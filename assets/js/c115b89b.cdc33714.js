(self.webpackChunkcmjeon_github_io=self.webpackChunkcmjeon_github_io||[]).push([[1898],{2551:(e,n,t)=>{e.exports={src:{srcSet:t.p+"assets/ideal-img/05-3.3b48448.640.png 640w,"+t.p+"assets/ideal-img/05-3.1becc16.983.png 983w",images:[{path:t.p+"assets/ideal-img/05-3.3b48448.640.png",width:640,height:254},{path:t.p+"assets/ideal-img/05-3.1becc16.983.png",width:983,height:390}],src:t.p+"assets/ideal-img/05-3.3b48448.640.png",toString:function(){return t.p+"assets/ideal-img/05-3.3b48448.640.png"},placeholder:void 0,width:640,height:254},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAECAYAAAC3OK7NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAa0lEQVQImT2NSw7DMAgFc/9zNouCY+MPToplv8pUKtJILIbhMDO01pxaK0QEqur7xj6GtRaOeF1gYvTekUVwvk7Qm/DcN1JM0KY/UZKglOLXTOTFnLNX97c9fzGEgMDs5RgjxhjOnNOlLX4BRRqaIP4OPFAAAAAASUVORK5CYII="}},9046:(e,n,t)=>{e.exports={src:{srcSet:t.p+"assets/ideal-img/05-6.d1e55ee.640.png 640w,"+t.p+"assets/ideal-img/05-6.f14d888.761.png 761w",images:[{path:t.p+"assets/ideal-img/05-6.d1e55ee.640.png",width:640,height:343},{path:t.p+"assets/ideal-img/05-6.f14d888.761.png",width:761,height:408}],src:t.p+"assets/ideal-img/05-6.d1e55ee.640.png",toString:function(){return t.p+"assets/ideal-img/05-6.d1e55ee.640.png"},placeholder:void 0,width:640,height:343},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAFCAYAAAB8ZH1oAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAeElEQVQImTVOiwoDMQjr///mjhv03WrXFzRDbxOCGEMSs9aCYIyBGCOcc2Am7L3Re9ctY5hZj1or3veN63WhlKKcGMj/nANTckZrDUQEJlLRpzUVCD/nfBxzSrDWIoSg0d57pJS0gnBj9EcokUK4n1gc/r0FUkGiv0JgwNyPSga1AAAAAElFTkSuQmCC"}},5648:(e,n,t)=>{"use strict";t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>i,default:()=>v,frontMatter:()=>s,metadata:()=>u,toc:()=>c});var a=t(7462),l=(t(7294),t(3905)),r=t(5851);const s={title:"5\uc7a5 \uc11c\ube44\uc2a4 \ucd94\uc0c1\ud654",sidebar_position:5,last_update:{author:"cm jeon",date:new Date("2022-12-27T00:00:00.000Z")},description:"DAO \uc5d0 \ud2b8\ub79c\uc7ad\uc158\uc744 \uc801\uc6a9\ud574\ubcf4\uba74\uc11c \uc2a4\ud504\ub9c1\uc774 \uc5b4\ub5bb\uac8c \uc131\uaca9\uc774 \ube44\uc2b7\ud55c \uc5ec\ub7ec \uae30\uc220\uc744 \ucd94\uc0c1\ud654\ud558\uace0, \uc77c\uad00\ub41c \ubc29\ubc95\uc73c\ub85c \uc0ac\uc6a9\ud560 \uc218 \uc788\ub3c4\ub85d \uc9c0\uc6d0\ud558\ub294\uc9c0 \uc54c\uc544\ubd05\ub2c8\ub2e4.",tags:["Toby's Spring"],keywords:["\uc11c\ube44\uc2a4 \ucd94\uc0c1\ud654"]},i=void 0,u={unversionedId:"books/tobyspring/service-abstraction",id:"books/tobyspring/service-abstraction",title:"5\uc7a5 \uc11c\ube44\uc2a4 \ucd94\uc0c1\ud654",description:"DAO \uc5d0 \ud2b8\ub79c\uc7ad\uc158\uc744 \uc801\uc6a9\ud574\ubcf4\uba74\uc11c \uc2a4\ud504\ub9c1\uc774 \uc5b4\ub5bb\uac8c \uc131\uaca9\uc774 \ube44\uc2b7\ud55c \uc5ec\ub7ec \uae30\uc220\uc744 \ucd94\uc0c1\ud654\ud558\uace0, \uc77c\uad00\ub41c \ubc29\ubc95\uc73c\ub85c \uc0ac\uc6a9\ud560 \uc218 \uc788\ub3c4\ub85d \uc9c0\uc6d0\ud558\ub294\uc9c0 \uc54c\uc544\ubd05\ub2c8\ub2e4.",source:"@site/docs/books/tobyspring/05-service-abstraction.md",sourceDirName:"books/tobyspring",slug:"/books/tobyspring/service-abstraction",permalink:"/blog-docusaurus-002/docs/books/tobyspring/service-abstraction",draft:!1,tags:[{label:"Toby's Spring",permalink:"/blog-docusaurus-002/docs/tags/tobys-spring"}],version:"current",lastUpdatedBy:"cm jeon",lastUpdatedAt:1672099200,formattedLastUpdatedAt:"2022\ub144 12\uc6d4 27\uc77c",sidebarPosition:5,frontMatter:{title:"5\uc7a5 \uc11c\ube44\uc2a4 \ucd94\uc0c1\ud654",sidebar_position:5,last_update:{author:"cm jeon",date:"2022-12-27T00:00:00.000Z"},description:"DAO \uc5d0 \ud2b8\ub79c\uc7ad\uc158\uc744 \uc801\uc6a9\ud574\ubcf4\uba74\uc11c \uc2a4\ud504\ub9c1\uc774 \uc5b4\ub5bb\uac8c \uc131\uaca9\uc774 \ube44\uc2b7\ud55c \uc5ec\ub7ec \uae30\uc220\uc744 \ucd94\uc0c1\ud654\ud558\uace0, \uc77c\uad00\ub41c \ubc29\ubc95\uc73c\ub85c \uc0ac\uc6a9\ud560 \uc218 \uc788\ub3c4\ub85d \uc9c0\uc6d0\ud558\ub294\uc9c0 \uc54c\uc544\ubd05\ub2c8\ub2e4.",tags:["Toby's Spring"],keywords:["\uc11c\ube44\uc2a4 \ucd94\uc0c1\ud654"]},sidebar:"books",previous:{title:"\ud1a0\ube44\uc758 \uc2a4\ud504\ub9c1 3.1 VOL1",permalink:"/blog-docusaurus-002/docs/category/\ud1a0\ube44\uc758-\uc2a4\ud504\ub9c1-31-vol1"},next:{title:"7\uc7a5 \uc2a4\ud504\ub9c1 \ud575\uc2ec \uae30\uc220\uc758 \uc751\uc6a9",permalink:"/blog-docusaurus-002/docs/books/tobyspring/apply-spring-core"}},o={},c=[{value:"5.1 \uc0ac\uc6a9\uc790 \ub808\ubca8 \uad00\ub9ac \uae30\ub2a5 \ucd94\uac00",id:"51-\uc0ac\uc6a9\uc790-\ub808\ubca8-\uad00\ub9ac-\uae30\ub2a5-\ucd94\uac00",level:2},{value:"5.1.1 \ud544\ub4dc \ucd94\uac00",id:"511-\ud544\ub4dc-\ucd94\uac00",level:3},{value:"Level \uc774\ub284",id:"level-\uc774\ub284",level:4},{value:"User \ud544\ub4dc \ucd94\uac00",id:"user-\ud544\ub4dc-\ucd94\uac00",level:4},{value:"UserDaoTest \ud14c\uc2a4\ud2b8 \uc218\uc815",id:"userdaotest-\ud14c\uc2a4\ud2b8-\uc218\uc815",level:4},{value:"UserDaoJdbc \uc218\uc815",id:"userdaojdbc-\uc218\uc815",level:4},{value:"5.1.2 \uc0ac\uc6a9\uc790 \uc218\uc815 \uae30\ub2a5 \ucd94\uac00",id:"512-\uc0ac\uc6a9\uc790-\uc218\uc815-\uae30\ub2a5-\ucd94\uac00",level:3},{value:"\uc218\uc815 \uae30\ub2a5 \ud14c\uc2a4\ud2b8 \ucd94\uac00",id:"\uc218\uc815-\uae30\ub2a5-\ud14c\uc2a4\ud2b8-\ucd94\uac00",level:4},{value:"UserDao \uc640 UserDaoJdbc \uc218\uc815",id:"userdao-\uc640-userdaojdbc-\uc218\uc815",level:4},{value:"\uc218\uc815 \ud14c\uc2a4\ud2b8 \ubcf4\uc644",id:"\uc218\uc815-\ud14c\uc2a4\ud2b8-\ubcf4\uc644",level:4},{value:"5.1.3 UserService.upgradeLevels()",id:"513-userserviceupgradelevels",level:3},{value:"UserService \ud074\ub798\uc2a4\uc640 \ube48 \ub4f1\ub85d",id:"userservice-\ud074\ub798\uc2a4\uc640-\ube48-\ub4f1\ub85d",level:4},{value:"UserServiceTest \ud14c\uc2a4\ud2b8 \ud074\ub798\uc2a4",id:"userservicetest-\ud14c\uc2a4\ud2b8-\ud074\ub798\uc2a4",level:4},{value:"upgradeLevels() \uba54\uc18c\ub4dc",id:"upgradelevels-\uba54\uc18c\ub4dc",level:4},{value:"upgradeLevels() \ud14c\uc2a4\ud2b8",id:"upgradelevels-\ud14c\uc2a4\ud2b8",level:4},{value:"5.1.4 UserService.add()",id:"514-userserviceadd",level:3},{value:"5.1.5 \ucf54\ub4dc \uac1c\uc120",id:"515-\ucf54\ub4dc-\uac1c\uc120",level:3},{value:"upgradeLevels() \uba54\uc18c\ub4dc \ucf54\ub4dc\uc758 \ubb38\uc81c\uc810",id:"upgradelevels-\uba54\uc18c\ub4dc-\ucf54\ub4dc\uc758-\ubb38\uc81c\uc810",level:4},{value:"upgradeLevels() \ub9ac\ud329\ud1a0\ub9c1",id:"upgradelevels-\ub9ac\ud329\ud1a0\ub9c1",level:4},{value:"User \ud14c\uc2a4\ud2b8",id:"user-\ud14c\uc2a4\ud2b8",level:4},{value:"UserServiceTest \uac1c\uc120",id:"userservicetest-\uac1c\uc120",level:4},{value:"5.2 \ud2b8\ub79c\uc7ad\uc158 \uc11c\ube44\uc2a4 \ucd94\uc0c1\ud654",id:"52-\ud2b8\ub79c\uc7ad\uc158-\uc11c\ube44\uc2a4-\ucd94\uc0c1\ud654",level:2},{value:"5.2.1 \ubaa8 \uc544\ub2c8\uba74 \ub3c4",id:"521-\ubaa8-\uc544\ub2c8\uba74-\ub3c4",level:3},{value:"\ud14c\uc2a4\ud2b8\uc6a9 UserService \ub300\uc5ed",id:"\ud14c\uc2a4\ud2b8\uc6a9-userservice-\ub300\uc5ed",level:4},{value:"\uac15\uc81c \uc608\uc678 \ubc1c\uc0dd\uc744 \ud1b5\ud55c \ud14c\uc2a4\ud2b8",id:"\uac15\uc81c-\uc608\uc678-\ubc1c\uc0dd\uc744-\ud1b5\ud55c-\ud14c\uc2a4\ud2b8",level:4},{value:"\ud14c\uc2a4\ud2b8 \uc2e4\ud328\uc758 \uc6d0\uc778",id:"\ud14c\uc2a4\ud2b8-\uc2e4\ud328\uc758-\uc6d0\uc778",level:4},{value:"5.2.2 \ud2b8\ub79c\uc7ad\uc158 \uacbd\uacc4\uc124\uc815",id:"522-\ud2b8\ub79c\uc7ad\uc158-\uacbd\uacc4\uc124\uc815",level:3},{value:"JDBC \ud2b8\ub79c\uc7ad\uc158\uc758 \ud2b8\ub79c\uc7ad\uc158 \uacbd\uacc4\uc124\uc815",id:"jdbc-\ud2b8\ub79c\uc7ad\uc158\uc758-\ud2b8\ub79c\uc7ad\uc158-\uacbd\uacc4\uc124\uc815",level:4},{value:"UserService \uc640 UserDao\uc758 \ud2b8\ub79c\uc7ad\uc158 \ubb38\uc81c",id:"userservice-\uc640-userdao\uc758-\ud2b8\ub79c\uc7ad\uc158-\ubb38\uc81c",level:4},{value:"\ube44\uc988\ub2c8\uc2a4 \ub85c\uc9c1 \ub0b4\uc758 \ud2b8\ub79c\uc7ad\uc158 \uacbd\uacc4\uc124\uc815",id:"\ube44\uc988\ub2c8\uc2a4-\ub85c\uc9c1-\ub0b4\uc758-\ud2b8\ub79c\uc7ad\uc158-\uacbd\uacc4\uc124\uc815",level:4},{value:"UserService \ud2b8\ub79c\uc7ad\uc158 \uacbd\uacc4\uc124\uc815\uc758 \ubb38\uc81c\uc810",id:"userservice-\ud2b8\ub79c\uc7ad\uc158-\uacbd\uacc4\uc124\uc815\uc758-\ubb38\uc81c\uc810",level:4},{value:"5.2.3 \ud2b8\ub79c\uc7ad\uc158 \ub3d9\uae30\ud654",id:"523-\ud2b8\ub79c\uc7ad\uc158-\ub3d9\uae30\ud654",level:3},{value:"Connection \ud30c\ub77c\ubbf8\ud130 \uc81c\uac70",id:"connection-\ud30c\ub77c\ubbf8\ud130-\uc81c\uac70",level:4},{value:"\ud2b8\ub79c\uc7ad\uc158 \ub3d9\uae30\ud654 \uc801\uc6a9",id:"\ud2b8\ub79c\uc7ad\uc158-\ub3d9\uae30\ud654-\uc801\uc6a9",level:4},{value:"\ud2b8\ub79c\uc7ad\uc158 \ud14c\uc2a4\ud2b8 \ubcf4\uc644",id:"\ud2b8\ub79c\uc7ad\uc158-\ud14c\uc2a4\ud2b8-\ubcf4\uc644",level:4},{value:"JdbcTemplate \uacfc \ud2b8\ub79c\uc7ad\uc158 \ub3d9\uae30\ud654",id:"jdbctemplate-\uacfc-\ud2b8\ub79c\uc7ad\uc158-\ub3d9\uae30\ud654",level:4},{value:"5.2.4 \ud2b8\ub79c\uc7ad\uc158 \uc11c\ube44\uc2a4 \ucd94\uc0c1\ud654",id:"524-\ud2b8\ub79c\uc7ad\uc158-\uc11c\ube44\uc2a4-\ucd94\uc0c1\ud654",level:3},{value:"\uae30\uc220\uacfc \ud658\uacbd\uc5d0 \uc885\uc18d\ub418\ub294 \ud2b8\ub79c\uc7ad\uc158 \uacbd\uacc4\uc124\uc815 \ucf54\ub4dc",id:"\uae30\uc220\uacfc-\ud658\uacbd\uc5d0-\uc885\uc18d\ub418\ub294-\ud2b8\ub79c\uc7ad\uc158-\uacbd\uacc4\uc124\uc815-\ucf54\ub4dc",level:4},{value:"\ud2b8\ub79c\uc7ad\uc158 API\uc758 \uc758\uc874\uad00\uacc4 \ubb38\uc81c\uc640 \ud574\uacb0\ucc45",id:"\ud2b8\ub79c\uc7ad\uc158-api\uc758-\uc758\uc874\uad00\uacc4-\ubb38\uc81c\uc640-\ud574\uacb0\ucc45",level:4},{value:"\uc2a4\ud504\ub9c1\uc758 \ud2b8\ub79c\uc7ad\uc158 \uc11c\ube44\uc2a4 \ucd94\uc0c1\ud654",id:"\uc2a4\ud504\ub9c1\uc758-\ud2b8\ub79c\uc7ad\uc158-\uc11c\ube44\uc2a4-\ucd94\uc0c1\ud654",level:4},{value:"\ud2b8\ub79c\uc7ad\uc158 \uae30\uc220 \uc124\uc815\uc758 \ubd84\ub9ac",id:"\ud2b8\ub79c\uc7ad\uc158-\uae30\uc220-\uc124\uc815\uc758-\ubd84\ub9ac",level:4},{value:"5.3 \uc11c\ube44\uc2a4 \ucd94\uc0c1\ud654\uc640 \ub2e8\uc77c \ucc45\uc784 \uc6d0\uce59",id:"53-\uc11c\ube44\uc2a4-\ucd94\uc0c1\ud654\uc640-\ub2e8\uc77c-\ucc45\uc784-\uc6d0\uce59",level:2},{value:"\uc218\uc9c1, \uc218\ud3c9 \uacc4\uce35\uad6c\uc870\uc640 \uc758\uc874\uad00\uacc4",id:"\uc218\uc9c1-\uc218\ud3c9-\uacc4\uce35\uad6c\uc870\uc640-\uc758\uc874\uad00\uacc4",level:3},{value:"\ub2e8\uc77c \ucc45\uc784 \uc6d0\uce59",id:"\ub2e8\uc77c-\ucc45\uc784-\uc6d0\uce59",level:3},{value:"\ub2e8\uc77c \ucc45\uc784 \uc6d0\uce59\uc758 \uc7a5\uc810",id:"\ub2e8\uc77c-\ucc45\uc784-\uc6d0\uce59\uc758-\uc7a5\uc810",level:3},{value:"5.4 \uba54\uc77c \uc11c\ube44\uc2a4 \ucd94\uc0c1\ud654",id:"54-\uba54\uc77c-\uc11c\ube44\uc2a4-\ucd94\uc0c1\ud654",level:2},{value:"5.4.1 JavaMail\uc744 \uc774\uc6a9\ud55c \uba54\uc77c \ubc1c\uc1a1 \uae30\ub2a5",id:"541-javamail\uc744-\uc774\uc6a9\ud55c-\uba54\uc77c-\ubc1c\uc1a1-\uae30\ub2a5",level:3},{value:"JavaMail \uba54\uc77c \ubc1c\uc1a1",id:"javamail-\uba54\uc77c-\ubc1c\uc1a1",level:4},{value:"5.4.2 JavaMail\uc774 \ud3ec\ud568\ub41c \ucf54\ub4dc\uc758 \ud14c\uc2a4\ud2b8",id:"542-javamail\uc774-\ud3ec\ud568\ub41c-\ucf54\ub4dc\uc758-\ud14c\uc2a4\ud2b8",level:3},{value:"5.4.3 \ud14c\uc2a4\ud2b8\ub97c \uc704\ud55c \uc11c\ube44\uc2a4 \ucd94\uc0c1\ud654",id:"543-\ud14c\uc2a4\ud2b8\ub97c-\uc704\ud55c-\uc11c\ube44\uc2a4-\ucd94\uc0c1\ud654",level:3},{value:"JavaMail\uc744 \uc774\uc6a9\ud55c \ud14c\uc2a4\ud2b8\uc758 \ubb38\uc81c\uc810",id:"javamail\uc744-\uc774\uc6a9\ud55c-\ud14c\uc2a4\ud2b8\uc758-\ubb38\uc81c\uc810",level:4},{value:"\uba54\uc77c \ubc1c\uc1a1 \uae30\ub2a5 \ucd94\uc0c1\ud654",id:"\uba54\uc77c-\ubc1c\uc1a1-\uae30\ub2a5-\ucd94\uc0c1\ud654",level:4},{value:"\ud14c\uc2a4\ud2b8\uc6a9 \uba54\uc77c \ubc1c\uc1a1 \uc624\ube0c\uc81d\ud2b8",id:"\ud14c\uc2a4\ud2b8\uc6a9-\uba54\uc77c-\ubc1c\uc1a1-\uc624\ube0c\uc81d\ud2b8",level:4},{value:"\ud14c\uc2a4\ud2b8\uc640 \uc11c\ube44\uc2a4 \ucd94\uc0c1\ud654",id:"\ud14c\uc2a4\ud2b8\uc640-\uc11c\ube44\uc2a4-\ucd94\uc0c1\ud654",level:4},{value:"5.4.4 \ud14c\uc2a4\ud2b8 \ub300\uc5ed",id:"544-\ud14c\uc2a4\ud2b8-\ub300\uc5ed",level:3},{value:"\uc758\uc874 \uc624\ube0c\uc81d\ud2b8\uc758 \ubcc0\uacbd\uc744 \ud1b5\ud55c \ud14c\uc2a4\ud2b8 \ubc29\ubc95",id:"\uc758\uc874-\uc624\ube0c\uc81d\ud2b8\uc758-\ubcc0\uacbd\uc744-\ud1b5\ud55c-\ud14c\uc2a4\ud2b8-\ubc29\ubc95",level:4},{value:"\ud14c\uc2a4\ud2b8 \ub300\uc5ed\uc758 \uc885\ub958\uc640 \ud2b9\uc9d5",id:"\ud14c\uc2a4\ud2b8-\ub300\uc5ed\uc758-\uc885\ub958\uc640-\ud2b9\uc9d5",level:4},{value:"Mock \uc624\ube0c\uc81d\ud2b8\ub97c \uc774\uc6a9\ud55c \ud14c\uc2a4\ud2b8",id:"mock-\uc624\ube0c\uc81d\ud2b8\ub97c-\uc774\uc6a9\ud55c-\ud14c\uc2a4\ud2b8",level:4},{value:"5.5 \uc815\ub9ac",id:"55-\uc815\ub9ac",level:2}],p={toc:c};function v(e){let{components:n,...s}=e;return(0,l.kt)("wrapper",(0,a.Z)({},p,s,{components:n,mdxType:"MDXLayout"}),(0,l.kt)("h2",{id:"51-\uc0ac\uc6a9\uc790-\ub808\ubca8-\uad00\ub9ac-\uae30\ub2a5-\ucd94\uac00"},"5.1 \uc0ac\uc6a9\uc790 \ub808\ubca8 \uad00\ub9ac \uae30\ub2a5 \ucd94\uac00"),(0,l.kt)("p",null,"UserDao \uc5d0 \ube44\uc988\ub2c8\uc2a4 \ub85c\uc9c1\uc744 \ucd94\uac00\ud574 \ubd05\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uc0ac\uc6a9\uc790 \uad00\ub9ac \uae30\ub2a5\uc5d0\uc11c \uad6c\ud604\ud574\uc57c\ud558\ub294 \ube44\uc988\ub2c8\uc2a4 \ub85c\uc9c1\uc740 \ub2e4\uc74c\uacfc \uac19\uc2b5\ub2c8\ub2e4."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\uc0ac\uc6a9\uc790\uc758 \ub808\ubca8\uc740 BASIC, SILVER, GOLD \uc138 \uac00\uc9c0 \uc911 \ud558\ub098\ub2e4. "),(0,l.kt)("li",{parentName:"ul"},"\uc0ac\uc6a9\uc790\uac00 \ucc98\uc74c \uac00\uc785\ud558\uba74 BASIC \ub808\ubca8\uc774 \ub418\uba70, \uc774\ud6c4 \ud65c\ub3d9\uc5d0 \ub530\ub77c\uc11c \ud55c \ub2e8\uacc4\uc529 \uc5c5\uadf8\ub808\uc774\ub4dc\ub420 \uc218 \uc788\ub2e4. "),(0,l.kt)("li",{parentName:"ul"},"\uac00\uc785 \ud6c4 50\ud68c \uc774\uc0c1 \ub85c\uadf8\uc778\uc744 \ud558\uba74 BASIC \uc5d0\uc11c SILVER \ub808\ubca8\uc774 \ub41c\ub2e4. "),(0,l.kt)("li",{parentName:"ul"},"SILVER \ub808\ubca8\uc774\uba74\uc11c 30\ubc88 \uc774\uc0c1 \ucd94\ucc9c\uc744 \ubc1b\uc73c\uba74 GOLD \ub808\ubca8\uc774 \ub41c\ub2e4. "),(0,l.kt)("li",{parentName:"ul"},"\uc0ac\uc6a9\uc790 \ub808\ubca8\uc758 \ubcc0\uacbd \uc791\uc5c5\uc740 \uc77c\uc815\ud55c \uc8fc\uae30\ub97c \uac00\uc9c0\uace0 \uc77c\uad04\uc801\uc73c\ub85c \uc9c4\ud589\ub41c\ub2e4. \ubcc0\uacbd \uc791\uc5c5 \uc804\uc5d0\ub294 \uc870\uac74\uc744 \ucda9\uc871\ud558\ub354\ub77c\ub3c4 \ub808\ubca8\uc758 \ubcc0\uacbd\uc774 \uc77c\uc5b4\ub098\uc9c0 \uc54a\ub294\ub2e4.")),(0,l.kt)("h3",{id:"511-\ud544\ub4dc-\ucd94\uac00"},"5.1.1 \ud544\ub4dc \ucd94\uac00"),(0,l.kt)("h4",{id:"level-\uc774\ub284"},"Level \uc774\ub284"),(0,l.kt)("p",null,"User \ud14c\uc774\ube14\uc5d0 \ub808\ubca8\uc744 \uc800\uc7a5\ud560 \ud544\ub4dc\uac00 \ud544\uc694\ud569\ub2c8\ub2e4."),(0,l.kt)("p",null,"DB \uc758 \ud544\ub4dc\uc5d0\ub294 \ubb38\uc790\ubcf4\ub2e4\ub294 \ub808\ubca8\uc744 \ucf54\ub4dc\ud654\ud574\uc11c \uc22b\uc790\ub85c \ub123\ub294 \uac83\uc774 \uc88b\uc2b5\ub2c8\ub2e4."),(0,l.kt)("p",null,"\ubc18\ub300\ub85c \uc18c\uc2a4\ucf54\ub4dc\uc5d0\uc11c\ub294 \uc22b\uc790\ub85c \uc4f0\ub294 \uac83 \ubcf4\ub2e4\ub294 \ubb38\uc790\uac00 \uc88b\uc740\ub370, \uc774\ub7f4 \ub54c \uc774\ub284\uc744 \uc0ac\uc6a9\ud558\ub294 \uac83\uc774 \uc88b\uc2b5\ub2c8\ub2e4."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java",metastring:'title="Level.java"',title:'"Level.java"'},'public enum Level {\n  BASIC(1), \n  SILVER(2), \n  GOLD(3);\n\n  private final int value;\n        \n  Level(int value) {\n    this.value = value;\n  }\n\n  // \uc624\ube0c\uc81d\ud2b8 -> \ucf54\ub4dc\n  public int intValue() {\n    return value;\n  }\n    \n  // \ucf54\ub4dc -> \uc624\ube0c\uc81d\ud2b8\n  public static Level valueOf(int value) {\n    switch(value) {\n      case 1: return BASIC;\n      case 2: return SILVER;\n      case 3: return GOLD;\n      default: throw new AssertionError("Unknown value: " + value);\n    }\n  }\n}\n')),(0,l.kt)("p",null,"\uc774\ub284\uc740 \uac89\uc73c\ub85c\ub294 \ud0c0\uc785\uc744 \uac00\uc9c0\uace0 \uc788\uc9c0\ub9cc \ub0b4\ubd80\uc5d0\ub294 DB \uc5d0 \uc800\uc7a5\ud560 \ucf54\ub4dc\uc22b\uc790\ub97c \uac00\uc9c0\uace0 \uc788\uc2b5\ub2c8\ub2e4."),(0,l.kt)("admonition",{type:"info"},(0,l.kt)("p",{parentName:"admonition"},"\ucf54\ub4dc\ub294 \uc774\ub284\uc73c\ub85c \uad00\ub9ac\ub418\uc5b4\uc57c \ud569\ub2c8\ub2e4."),(0,l.kt)("p",{parentName:"admonition"},"\uc18c\uc2a4\ucf54\ub4dc\uc5d0\uc11c \ucf54\ub4dc\ub97c \ubb38\uc790\ub098 \uc22b\uc790\ub85c \ubc1b\uac8c\ud558\uba74 \uc5c9\ub6b1\ud55c \uac12\uc774\ub098 \ubc94\uc704\ub97c \ubc97\uc5b4\ub098\ub294 \uac12\uc744 \ub123\uac8c \ub420 \uc218\ub3c4 \uc788\uc2b5\ub2c8\ub2e4.")),(0,l.kt)("h4",{id:"user-\ud544\ub4dc-\ucd94\uac00"},"User \ud544\ub4dc \ucd94\uac00"),(0,l.kt)("p",null,"User \ud074\ub798\uc2a4\uc5d0\ub3c4 Level \uc744 \ucd94\uac00\ud574 \uc90d\ub2c8\ub2e4."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java",metastring:'title="User.java"',title:'"User.java"'},"public class User {\n    \n  // ...\n    \n  Level level; // \ud604\uc7ac \ub808\ubca8\n  int login; // \ub85c\uadf8\uc778 \ud69f\uc218\n  int recommend; // \ucd94\ucc9c \ud69f\uc218\n    \n  public User(String id, String name, String password, Level level, int login, int recommend) {\n    this.id = id;\n    this.name = name;\n    this.password = password;\n    // highlight-start\n    this.level = level;\n    this.login = login;\n    this.recommend = recommend;\n    // highlight-end\n  }\n\n  // ...\n\n  public Level getLevel() {\n    return level;\n  }\n\n  public void setLevel(Level level) {\n    this.level = level;\n  }\n    \n  public int getLogin() {\n    return login;\n  }\n\n  public void setLogin(int login) {\n    this.login = login;\n  }\n\n  public int getRecommend() {\n    return recommend;\n  }\n\n  public void setRecommend(int recommend) {\n    this.recommend = recommend;\n  }\n\n}\n")),(0,l.kt)("h4",{id:"userdaotest-\ud14c\uc2a4\ud2b8-\uc218\uc815"},"UserDaoTest \ud14c\uc2a4\ud2b8 \uc218\uc815"),(0,l.kt)("p",null,"UserDaoTest.java \ub3c4 \uc218\uc815\ud574\uc90d\ub2c8\ub2e4."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java",metastring:'title="UserDaoTest.java"',title:'"UserDaoTest.java"'},'@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(locations="/test-applicationContext.xml")\npublic class UserDaoTest {\n\n  @Autowired \n  UserDao dao; \n  \n  @Autowired \n  DataSource dataSource;\n    \n  private User user1;\n  private User user2;\n  private User user3; \n    \n  @Before\n  public void setUp() {\n    // highlight-start\n    this.user1 = new User("gyumee", "\ubc15\uc131\ucca0", "springno1", Level.BASIC, 1, 0);\n    this.user2 = new User("leegw700", "\uc774\uae38\uc6d0", "springno2", Level.SILVER, 55, 10);\n    this.user3 = new User("bumjin", "\ubc15\ubc94\uc9c4", "springno3", Level.GOLD, 100, 40);\n    // highlight-end\n  }\n    \n  // ...\n    \n  private void checkSameUser(User user1, User user2) {\n    assertThat(user1.getId(), is(user2.getId()));\n    assertThat(user1.getName(), is(user2.getName()));\n    assertThat(user1.getPassword(), is(user2.getPassword()));\n    // highlight-start\n    assertThat(user1.getLevel(), is(user2.getLevel()));\n    assertThat(user1.getLogin(), is(user2.getLogin()));\n    assertThat(user1.getRecommend(), is(user2.getRecommend()));\n    // highlight-end\n  }\n    \n}\n')),(0,l.kt)("h4",{id:"userdaojdbc-\uc218\uc815"},"UserDaoJdbc \uc218\uc815"),(0,l.kt)("p",null,"UserDaoJdbc.java \ub3c4 \uc218\uc815\ud569\ub2c8\ub2e4."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java",metastring:'title="UserDaoJdbc.java"',title:'"UserDaoJdbc.java"'},'private RowMapper<User> userMapper = new RowMapper<User>() {\n  public User mapRow(ResultSet rs, int rowNum) throws SQLException {\n    User user = new User();\n    user.setId(rs.getString("id"));\n    user.setName(rs.getString("name"));\n    user.setPassword(rs.getString("password"));\n    // highlight-start\n    user.setLevel(Level.valueOf(rs.getInt("level")));\n    user.setLogin(rs.getInt("login"));\n    user.setRecommend(rs.getInt("recommend"));\n    // highlight-end\n    return user;\n  }\n};\n\npublic void add(User user) {\n  this.jdbcTemplate.update("insert into users (id, name, password, level, login, recommend) values (?, ?, ?, ?, ?, ?)", \n    user.getId(), \n    user.getName(), \n    user.getPassword(),\n    // highlight-start \n    user.getLevel().intValue(), \n    user.getLogin(), \n    user.getRecommend()\n    // highlight-end\n  );\n}\n')),(0,l.kt)("p",null,"JDBC \uac00 \uc0ac\uc6a9\ud558\ub294 SQL \uc740 \ucef4\ud30c\uc77c \uacfc\uc815\uc5d0\uc11c\ub294 \uc790\ub3d9\uc73c\ub85c \uac80\uc99d\ub418\uc9c0 \uc54a\ub294 \ubb38\uc790\uc5f4\uc785\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uadf8\ub798\uc11c SQL \ubb38\uc7a5\uc774 \uc2e4\ud589\ub418\uae30 \uc804\uae4c\uc9c0\ub294 \ubb38\ubc95 \uc624\ub958\ub098 \uc624\ud0c0\ub97c \ubc1c\uacac\ud558\uae30 \uc5b4\ub835\uc2b5\ub2c8\ub2e4."),(0,l.kt)("p",null,"\ub9cc\uc57d userMapper \uc5d0 \ucd94\uac00\ud55c \ub0b4\uc6a9\uc5d0 \uc624\ud0c0\uac00 \uc788\ub2e4\uba74 \ucef4\ud30c\uc77c \uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud569\ub2c8\ub2e4."),(0,l.kt)("h3",{id:"512-\uc0ac\uc6a9\uc790-\uc218\uc815-\uae30\ub2a5-\ucd94\uac00"},"5.1.2 \uc0ac\uc6a9\uc790 \uc218\uc815 \uae30\ub2a5 \ucd94\uac00"),(0,l.kt)("p",null,"\uc218\uc815\ud560 \uc815\ubcf4\uac00 \ub2f4\uae34 User \uac1d\uccb4\ub97c \uc804\ub2ec\ud558\uba74 id \ub97c \ucc38\uace0\ud574\uc11c \uc0ac\uc6a9\uc790\ub97c \ucc3e\uc544\uc11c \uc815\ubcf4\ub97c \uac31\uc2e0\ud558\ub294 \uba54\uc18c\ub4dc\ub97c \ub9cc\ub4e4\uc5b4 \ubd05\ub2c8\ub2e4."),(0,l.kt)("h4",{id:"\uc218\uc815-\uae30\ub2a5-\ud14c\uc2a4\ud2b8-\ucd94\uac00"},"\uc218\uc815 \uae30\ub2a5 \ud14c\uc2a4\ud2b8 \ucd94\uac00"),(0,l.kt)("p",null,"update \ud14c\uc2a4\ud2b8\ub97c \ucd94\uac00\ud569\ub2c8\ub2e4."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java",metastring:'title="UserDaoTest.java"',title:'"UserDaoTest.java"'},'@Test\npublic void update() {\n  dao.deleteAll();\n  \n  dao.add(user1);\n  \n  user1.setName("\uc624\ubbfc\uaddc");\n  user1.setPassword("springno6");\n  user1.setEmail("user6@ksug.org");\n  user1.setLevel(Level.GOLD);\n  user1.setLogin(1000);\n  user1.setRecommend(999);\n  \n  // highlight-next-line\n  dao.update(user1);\n  \n  User user1update = dao.get(user1.getId());\n  checkSameUser(user1, user1update);\n}\n')),(0,l.kt)("h4",{id:"userdao-\uc640-userdaojdbc-\uc218\uc815"},"UserDao \uc640 UserDaoJdbc \uc218\uc815"),(0,l.kt)("p",null,"UserDao \uc5d0 update() \uba54\uc18c\ub4dc\ub97c \ucd94\uac00\ud569\ub2c8\ub2e4."),(0,l.kt)("p",null,"UserDao \ub97c \uad6c\ud604\ud55c UserDaoJdbc \uc5d0\ub3c4 update() \uba54\uc18c\ub4dc\uac00 \ud544\uc694\ud569\ub2c8\ub2e4."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java",metastring:'title="UserDaoJdbc.java"',title:'"UserDaoJdbc.java"'},'public void update(User user) {\n  this.jdbcTemplate.update("update users set name = ?, password = ?, email = ?, level = ?, login = ?, recommend = ? where id = ? ", \n    user.getName(), \n    user.getPassword(), \n    user.getEmail(), \n    user.getLevel().intValue(), \n    user.getLogin(), \n    user.getRecommend(),\n    user.getId()\n  );\n}\n')),(0,l.kt)("h4",{id:"\uc218\uc815-\ud14c\uc2a4\ud2b8-\ubcf4\uc644"},"\uc218\uc815 \ud14c\uc2a4\ud2b8 \ubcf4\uc644"),(0,l.kt)("p",null,"SQL \ubb38\uc5d0\uc11c\ub294 \uc885\uc885 \ud14c\uc2a4\ud2b8\ub85c\ub294 \uac80\uc99d\ud558\uc9c0 \ubabb\ud558\ub294 \uc624\ub958\uac00 \ubc1c\uc0dd\ud560 \uc218\ub3c4 \uc788\uc2b5\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uc608\ucee8\ub370  UPDATE \ubb38\uc5d0\uc11c WHERE \uc808\uc744 \ube7c\uba39\ub294 \uacbd\uc6b0\uc785\ub2c8\ub2e4."),(0,l.kt)("p",null,"\ud14c\uc2a4\ud2b8 \ucf54\ub4dc\ub97c \ubcf4\uc644\ud558\uc5ec UPDATE \ubb38\uc758 \uc2e4\uc218\ub97c \ubc1c\uacac\ud560 \uc218 \uc788\ub3c4\ub85d \ud574\ubd05\ub2c8\ub2e4."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java",metastring:'title="UserDaoTest.java"',title:'"UserDaoTest.java"'},'@Test\npublic void update() {\n  dao.deleteAll();\n  \n  dao.add(user1);       // \uc218\uc815\ud560 \uc0ac\uc6a9\uc790\n  dao.add(user2);       // \uc218\uc815\ud558\uc9c0 \uc54a\uc744 \uc0ac\uc6a9\uc790\n  \n  user1.setName("\uc624\ubbfc\uaddc");\n  user1.setPassword("springno6");\n  user1.setEmail("user6@ksug.org");\n  user1.setLevel(Level.GOLD);\n  user1.setLogin(1000);\n  user1.setRecommend(999);\n  \n  dao.update(user1);\n  \n  User user1update = dao.get(user1.getId());\n  checkSameUser(user1, user1update);\n  // highlight-start\n  User user2same = dao.get(user2.getId());\n  checkSameUser(user2, user2same);\n  // highlight-end\n}\n')),(0,l.kt)("p",null,"\uc0ac\uc6a9\uc790\ub97c \ub450 \uba85 \ub4f1\ub85d\ud574\ub193\uace0, \uadf8 \uc911 \ud558\ub098\ub9cc \uc218\uc815\ud55c \ub4a4\uc5d0 \uc218\uc815\ub41c \uc0ac\uc6a9\uc790\uc640 \uc218\uc815\ud558\uc9c0 \uc54a\uc740 \uc0ac\uc6a9\uc790\uc758 \uc815\ubcf4\ub97c \ud655\uc778\ud558\ub294 \uc2dd\uc73c\ub85c \ud14c\uc2a4\ud2b8\ub97c \ubcf4\uc644\ud569\ub2c8\ub2e4."),(0,l.kt)("h3",{id:"513-userserviceupgradelevels"},"5.1.3 UserService.upgradeLevels()"),(0,l.kt)("p",null,"\uc774\uc81c \ub808\ubca8\uc744 \ubcc0\uacbd\ud558\ub294 \ube44\uc988\ub2c8\uc2a4 \ub85c\uc9c1\uc744 \ucd94\uac00\ud574 \ubd05\ub2c8\ub2e4."),(0,l.kt)("p",null,"Dao \ub294 \ub370\uc774\ud130\ub97c \ub2e4\ub8e8\ub294 \uc601\uc5ed\uc774\uae30 \ub54c\ubb38\uc5d0 \ube44\uc988\ub2c8\uc2a4 \ub85c\uc9c1\uc744 Dao \uc5d0 \ub450\ub294 \uac83\uc740 \uc801\ub2f9\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. "),(0,l.kt)("p",null,"\uc0ac\uc6a9\uc790 \uad00\ub9ac \ub85c\uc9c1\uc744 \ucd94\uac00\ud560 UserService \ud074\ub798\uc2a4\ub97c \uc0dd\uc131\ud569\ub2c8\ub2e4."),(0,l.kt)("p",null,"UserService \ub294 UserDao \uc778\ud130\ud398\uc774\uc2a4 \ud0c0\uc785\uc73c\ub85c userDao \ube48\uc744 DI \ubc1b\uc544 \uc0ac\uc6a9\ud569\ub2c8\ub2e4."),(0,l.kt)("h4",{id:"userservice-\ud074\ub798\uc2a4\uc640-\ube48-\ub4f1\ub85d"},"UserService \ud074\ub798\uc2a4\uc640 \ube48 \ub4f1\ub85d"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java",metastring:'title="UserService.java"',title:'"UserService.java"'},"public class UserService {\n\n  // highlight-next-line\n  private UserDao userDao;\n\n  public void setUserDao(UserDao userDao) {\n    this.userDao = userDao;\n  }\n  \n  // ...\n\n}\n")),(0,l.kt)("p",null,"\uadf8\ub9ac\uace0 UserService \ub97c \ube48\uc73c\ub85c \ub4f1\ub85d\ud558\uae30 \uc704\ud574 XML \uc5d0 \ucd94\uac00\ud574\uc90d\ub2c8\ub2e4."),(0,l.kt)("h4",{id:"userservicetest-\ud14c\uc2a4\ud2b8-\ud074\ub798\uc2a4"},"UserServiceTest \ud14c\uc2a4\ud2b8 \ud074\ub798\uc2a4"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java",metastring:'title="UserServiceTest.java"',title:'"UserServiceTest.java"'},'@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(locations="/test-applicationContext.xml")\npublic class UserServiceTest {\n\n  @Autowired UserService userService;   \n    \n  @Test\n  public void bean() {\n    // highlight-next-line\n    assertThat(this.userService, is(notNullValue()));\n  }\n  \n}\n')),(0,l.kt)("h4",{id:"upgradelevels-\uba54\uc18c\ub4dc"},"upgradeLevels() \uba54\uc18c\ub4dc"),(0,l.kt)("p",null,"\uc774\uc81c UserService \uc5d0 upgradeLevels() \uba54\uc18c\ub4dc\ub97c \ucd94\uac00\ud558\uace0 \ub808\ubca8\uc744 \ubcc0\uacbd\ud558\ub294 \ube44\uc988\ub2c8\uc2a4 \ub85c\uc9c1\uc744 \ucd94\uac00\ud569\ub2c8\ub2e4."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java",metastring:'title="UserService.java"',title:'"UserService.java"'},"public class UserService {\n  \n  // ...\n    \n  public void upgradeLevels() {\n    List<User> users = userDao.getAll();  \n    for(User user : users) {  \n      Boolean changed = null;\n      // highlight-next-line\n      if (user.getLevel() == Level.BASIC && user.getLogin() >= 50) {\n        user.setLevel(Level .SILVER);\n        changed = true;\n      // highlight-next-line\n      } else if (user.getLevel() == Level.SILVER && user.getRecommend() >= 30) {\n        user.setLevel(Level .GOLD);\n        changed = true;\n      // highlight-next-line\n      } else if (user.getLevel() == Level.GOLD) {\n        changed = false; \n      } else { \n        changed = false; \n      }\n      \n      if (changed) { \n        userDao.update(user); \n      }\n    }\n  }\n  \n}\n")),(0,l.kt)("h4",{id:"upgradelevels-\ud14c\uc2a4\ud2b8"},"upgradeLevels() \ud14c\uc2a4\ud2b8"),(0,l.kt)("p",null,"\ud14c\uc2a4\ud2b8 \ud53d\uc2a4\ucc98\ub97c \ub4f1\ub85d\ud569\ub2c8\ub2e4."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java",metastring:'title="UserServiceTest.java"',title:'"UserServiceTest.java"'},'public class UserServiceTest {\n  \n  // ...\n  \n  @Before\n  public void setUp() {\n    users = Arrays.asList(\n      new User("bumjin", "\ubc15\ubc94\uc9c4", "p1", Level.BASIC, 49, 0),\n      new User("joytouch", "\uac15\uba85\uc131", "p2", Level.BASIC, 50, 0),\n      new User("erwins", "\uc2e0\uc2b9\ud55c", "p3", Level.SILVER, 60, 29),\n      new User("madnite1", "\uc774\uc0c1\ud638", "p4", Level.SILVER, 60, 30),\n      new User("green", "\uc624\ubbfc\uaddc", "p5", Level.GOLD, 100, 100)\n    );\n  }\n  \n}\n')),(0,l.kt)("p",null,"\ud14c\uc2a4\ud2b8\ub97c \ud560 \ub54c\ub294 \ub370\uc774\ud130\uc758 \uacbd\uacc4\uac00 \ub418\ub294 \uac12\uc758 \uc804\ud6c4\ub85c \ud14c\uc2a4\ud2b8 \ud558\ub294 \uac83\uc774 \uc88b\uc2b5\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uc5ec\uae30\uc11c\ub294 \ub85c\uadf8\uc778 \uc218 50 \uacfc \ucd94\ucc9c\uc218 30 \uc774 \uacbd\uacc4\uac00 \ub418\ub294 \uac12 \uc785\ub2c8\ub2e4."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java",metastring:'title="UserServiceTest.java"',title:'"UserServiceTest.java"'},"@Test\npublic void upgradeLevels() {\n  userDao.deleteAll();\n  for(User user : users) userDao.add(user);\n  \n  // highlight-next-line\n  userService.upgradeLevels();\n  \n  checkLevel(users.get(0), Level.BASIC);\n  checkLevel(users.get(1), Level.SILVER);\n  checkLevel(users.get(2), Level.SILVER);\n  checkLevel(users.get(3), Level.GOLD);\n  checkLevel(users.get(4), Level.GOLD);\n}\n\n// highlight-start\nprivate void checkLevel(User user, boolean expectedLevel) {\n  User userUpdate = userDao.get(user.getId());\n  assertThat(userUpdate.getLevel(), is(expectedLevel));\n}\n// highlight-end\n")),(0,l.kt)("p",null,"\uc0ac\uc6a9\uc790 \uc815\ubcf4\ub97c \uc800\uc7a5\ud55c \ud6c4 upgradeLevels() \uba54\uc18c\ub4dc\ub97c \uc2e4\ud589\ud569\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uadf8\ub9ac\uace0 checkLevel() \uba54\uc18c\ub4dc\ub85c \uae30\ub300\ud558\ub294 \ub808\ubca8\ub85c \ubcc0\uacbd\ub418\uc5c8\ub294\uc9c0 \ud655\uc778\ud569\ub2c8\ub2e4."),(0,l.kt)("h3",{id:"514-userserviceadd"},"5.1.4 UserService.add()"),(0,l.kt)("p",null,"\ucc98\uc74c \uac00\uc785\ud558\ub294 \uc0ac\uc6a9\uc790\ub294 \uae30\ubcf8\uc801\uc73c\ub85c BASIC \ub808\ubca8\uc774\uc5b4\uc57c \ud569\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uc774 \ube44\uc988\ub2c8\uc2a4 \ub85c\uc9c1\ub3c4 \uc0ac\uc6a9\uc790 \uad00\ub9ac\uc5d0 \ub300\ud55c \ube44\uc988\ub2c8\uc2a4 \ub85c\uc9c1\uc744 \ub2f4\uace0 \uc788\ub294 UserService \uc5d0 \ub2f4\ub294 \uac83\uc774 \uc88b\uc2b5\ub2c8\ub2e4."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java",metastring:'title="UserServiceTest.java"',title:'"UserServiceTest.java"'},"@Test \npublic void add() {\n  userDao.deleteAll();\n  \n  User userWithLevel = users.get(4);      // GOLD \ub808\ubca8  \n  User userWithoutLevel = users.get(0);  \n  userWithoutLevel.setLevel(null);\n  \n  // highlight-start\n  userService.add(userWithLevel);     \n  userService.add(userWithoutLevel);\n  // highlight-end\n  \n  User userWithLevelRead = userDao.get(userWithLevel.getId());\n  User userWithoutLevelRead = userDao.get(userWithoutLevel.getId());\n  \n  // highlight-start\n  assertThat(userWithLevelRead.getLevel(), is(userWithLevel.getLevel())); \n  assertThat(userWithoutLevelRead.getLevel(), is(Level.BASIC));\n  // highlight-end\n}\n")),(0,l.kt)("p",null,"\uc704 \ud14c\uc2a4\ud2b8\ucf00\uc774\uc2a4\ub294 2\uac00\uc9c0\ub97c \ud14c\uc2a4\ud2b8\ud569\ub2c8\ub2e4."),(0,l.kt)("p",null,"Level \uc774 \ube44\uc5b4\uc788\ub294 \uacbd\uc6b0\ub294 BASIC \uc744 \ubd80\uc5ec\ud574\uc8fc\uace0, \uc774\ubbf8 \uc124\uc815\ub41c Level \uc774 \uc788\ub2e4\uba74 \uadf8\ub300\ub85c \ub194\ub450\ub294 \uac83\uc785\ub2c8\ub2e4. "),(0,l.kt)("p",null,"\uc774\uc81c UserService \uc5d0 add() \uba54\uc18c\ub4dc\ub97c \ucd94\uac00\ud569\ub2c8\ub2e4."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java",metastring:'title="UserService.java"',title:'"UserService.java"'},"public void add(User user) {\n  if (user.getLevel() == null) user.setLevel(Level.BASIC);\n  userDao.add(user);\n}\n")),(0,l.kt)("p",null,"\ud14c\uc2a4\ud2b8\ub294 \ud1b5\uacfc\ud569\ub2c8\ub2e4."),(0,l.kt)("h3",{id:"515-\ucf54\ub4dc-\uac1c\uc120"},"5.1.5 \ucf54\ub4dc \uac1c\uc120"),(0,l.kt)("p",null,"\uc791\uc131\ub41c \ucf54\ub4dc\ub97c \uc0b4\ud3b4\ubcfc \ub54c\ub294 \ub2e4\uc74c\uacfc \uac19\uc740 \uc9c8\ubb38\uc744 \ud574\ubcfc \ud544\uc694\uac00 \uc788\uc2b5\ub2c8\ub2e4."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\ucf54\ub4dc\uc5d0 \uc911\ubcf5\ub41c \ubd80\ubd84\uc740 \uc5c6\ub294\uac00?"),(0,l.kt)("li",{parentName:"ul"},"\ucf54\ub4dc\uac00 \ubb34\uc5c7\uc744 \ud558\ub294 \uac83\uc778\uc9c0 \uc774\ud574\ud558\uae30 \ubd88\ud3b8\ud558\uc9c0 \uc54a\uc740\uac00?"),(0,l.kt)("li",{parentName:"ul"},"\ucf54\ub4dc\uac00 \uc790\uc2e0\uc774 \uc788\uc5b4\uc57c \ud560 \uc790\ub9ac\uc5d0 \uc788\ub294\uac00?"),(0,l.kt)("li",{parentName:"ul"},"\uc55e\uc73c\ub85c \ubcc0\uacbd\uc774 \uc77c\uc5b4\ub09c\ub2e4\uba74 \uc5b4\ub5a4 \uac83\uc774 \uc788\uc744 \uc218 \uc788\uace0, \uadf8 \ubcc0\ud654\uc5d0 \uc27d\uac8c \ub300\uc751\ud560 \uc218 \uc788\uac8c \uc791\uc131\ub418\uc5b4 \uc788\ub294\uac00?")),(0,l.kt)("h4",{id:"upgradelevels-\uba54\uc18c\ub4dc-\ucf54\ub4dc\uc758-\ubb38\uc81c\uc810"},"upgradeLevels() \uba54\uc18c\ub4dc \ucf54\ub4dc\uc758 \ubb38\uc81c\uc810"),(0,l.kt)("p",null,"upgrageLevels() \uba54\uc18c\ub4dc\ub97c \ub2e4\uc2dc \uc0b4\ud3b4\ubd05\ub2c8\ub2e4."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java",metastring:'title="UserService.java"',title:'"UserService.java"'},"public class UserService {\n  \n  // ...\n    \n  public void upgradeLevels() {\n    List<User> users = userDao.getAll();  \n    for(User user : users) {  \n      Boolean changed = null;\n      if (user.getLevel() == Level.BASIC && user.getLogin() >= 50) {\n        user.setLevel(Level .SILVER);\n        changed = true;\n      } else if (user.getLevel() == Level.SILVER && user.getRecommend() >= 30) {\n        user.setLevel(Level .GOLD);\n        changed = true;\n      } else if (user.getLevel() == Level.GOLD) { \n        changed = false; \n      } else { \n        changed = false; \n      }\n      \n      if (changed) { \n        userDao.update(user); \n      }\n    }\n  }\n  \n}\n")),(0,l.kt)("p",null,"updateLevels() \uba54\uc18c\ub4dc\uc5d0\ub294 \uc544\ub798\uc640 \uac19\uc740 \ubb38\uc81c\uc810\uc774 \uc788\uc2b5\ub2c8\ub2e4."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\uc0c8\ub85c\uc6b4 \ub808\ubca8\uc774 \ucd94\uac00\ub418\uba74 Level \uc774\ub284\uc774 \uc218\uc815\ub418\uc5b4\uc57c \ud558\uace0, upgradeLevels() \uc758 if \uc870\uac74\uc2dd\uc774 \ucd94\uac00\ub418\uc5b4\uc57c \ud55c\ub2e4."),(0,l.kt)("li",{parentName:"ul"},"\uc5c5\uadf8\ub808\uc774\ub4dc \uc870\uac74\uc774 \ubcf5\uc7a1\ud574\uc9c8\uc218\ub85d \uba54\uc18c\ub4dc\uac00 \uae38\uc5b4\uc9c4\ub2e4."),(0,l.kt)("li",{parentName:"ul"},"\uc870\uac74\uc73c\ub85c \uae30\uc874 \ub808\ubca8\uc744 \ud655\uc778\ud558\uace0 \uac01 \ub808\ubca8\ubcc4\ub85c \uc870\uac74\uc744 \ud310\ub2e8\ud558\ub294 \uc2dd\uc73c\ub85c \ucf54\ub4dc\uac00 \ubcf5\uc7a1\ud574 \uc9c8 \uc218 \uc788\ub2e4. (if \uc911\ucca9)")),(0,l.kt)("h4",{id:"upgradelevels-\ub9ac\ud329\ud1a0\ub9c1"},"upgradeLevels() \ub9ac\ud329\ud1a0\ub9c1"),(0,l.kt)("p",null,"\ucf54\ub4dc\ub97c \ub9ac\ud329\ud1a0\ub9c1\uc744 \ud558\uae30 \uc704\ud574\uc11c \ucd94\uc0c1\uc801\uc778 \ub808\ubca8\uc5d0\uc11c\ubd80\ud130 \ub85c\uc9c1\uc744 \uc791\uc131\ud574 \ubd05\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uae30\uc874\uc758 upgradeLevels() \uba54\uc18c\ub4dc\ub294 \uc790\uc8fc \ubcc0\uacbd\ub420 \uac00\ub2a5\uc131\uc774 \uc788\ub294 \uad6c\uccb4\uc801\uc778 \ub0b4\uc6a9\uc774 \ucd94\uc0c1\uc801\uc778 \ub85c\uc9c1\uc758 \ud750\ub984\uacfc \ud568\uaed8 \uc11e\uc5ec \uc788\uc2b5\ub2c8\ub2e4."),(0,l.kt)("p",null,"upgradeLevels() \uba54\uc18c\ub4dc\ub97c \ub9ac\ud329\ud1a0\ub9c1\ud558\uae30 \uc704\ud574\uc11c \ub808\ubca8\uc744 \uc5c5\uadf8\ub808\uc774\ub4dc\ud558\ub294 \uae30\ubcf8 \ud750\ub984\uc744 \ub9cc\ub4e4\uc5b4 \ubd05\ub2c8\ub2e4."),(0,l.kt)("admonition",{type:"info"},(0,l.kt)("p",{parentName:"admonition"},"\ube44\uc988\ub2c8\uc2a4 \ub85c\uc9c1\uc744 \ucd94\uc0c1\uc801\uc778 \uac83\uacfc \uad6c\uccb4\uc801\uc778 \uac83\uc73c\ub85c \ub098\ub20c \uc218 \uc788\ub294 \uae30\uc900\uc740 \uad6c\ud604\uc758 \ubcc0\uacbd\uac00\ub2a5\uc131\uc785\ub2c8\ub2e4.")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java",metastring:'title="UserService.java"',title:'"UserService.java"'},"public void upgradeLevels() {\n  List<User> users = userDao.getAll(); \n  // highlight-start\n  for(User user : users) {\n    if (canUpgradeLevel(user)) { \n      upgradeLevel(user);\n    }\n  }\n  // highlight-end\n}\n")),(0,l.kt)("p",null,"\ucd94\uc0c1\uc801\uc778 \uae30\ubcf8 \ud750\ub984\uc740 '\uc0ac\uc6a9\uc790 \uc815\ubcf4\ub97c \uac00\uc838\uc640 \ud55c \uba85\uc529 \uc21c\ud68c\ud558\uba74\uc11c \uc5c5\uadf8\ub808\uc774\ub4dc \uac00\ub2a5\uc5ec\ubd80\ub97c \ud655\uc778\ud558\uace0, \uac00\ub2a5\ud558\uba74 \uc5c5\uadf8\ub808\uc774\ub4dc \ud55c\ub2e4.' \uc785\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uad6c\uccb4\uc801\uc778 \ub0b4\uc6a9\uc740 \uac01 \uba54\uc18c\ub4dc\uc5d0\uc11c \uad6c\ud604\ud569\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uba3c\uc800 canUpgradeLevel() \uba54\uc18c\ub4dc\ub97c \uad6c\ud604\ud574\ubd05\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uc5ec\uae30\uc11c\ub294 \ub808\ubca8\ubcc4\ub85c \uc5c5\uadf8\ub808\uc774\ub4dc \uc870\uac74\uc744 \ud655\uc778\ud569\ub2c8\ub2e4."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java",metastring:'title="UserService.java"',title:'"UserService.java"'},'private boolean canUpgradeLevel(User user) {\n  Level currentLevel = user.getLevel();\n  switch(currentLevel) {\n    case BASIC: return (user.getLogin() >= 50); \n    case SILVER: return (user.getRecommend() >= 30);\n    case GOLD: return false;\n    default: throw new IllegalArgumentException("Unknown Level: " + currentLevel); \n  }\n}\n')),(0,l.kt)("p",null,"\ub9cc\uc57d \uc5c5\uadf8\ub808\uc774\ub4dc \uc870\uac74\uc774 \ud655\uc778\ub418\uba74 upgradeLevel() \uba54\uc18c\ub4dc\ub85c \uc5c5\uadf8\ub808\uc774\ub4dc \uc791\uc5c5\uc744 \uc9c4\ud589\ud569\ub2c8\ub2e4."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java",metastring:'title="UserService.java"',title:'"UserService.java"'},"public class UserService {\n\n  // ...\n  \n  private void upgradeLevel(User user) {\n    if (user.getLevel() == level.BASIC) user.setLevel(Level.SILVER);\n    else if (user.getLevel() == level.SILBER) user.setLevel(Level.GOLD);\n    userDao.update(user);\n  }\n}\n")),(0,l.kt)("p",null,"upgradeLevel() \uba54\uc18c\ub4dc\ub294 \uc57d\uac04 \ubb38\uc81c\uac00 \uc788\uc2b5\ub2c8\ub2e4."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\ub808\ubca8\uac04\uc758 \uad00\uacc4\uac00 \ub178\uace8\uc801\uc73c\ub85c \ub4dc\ub7ec\ub09c\ub2e4\ub294 \uac83"),(0,l.kt)("li",{parentName:"ul"},"\ub808\ubca8\uc774 \ub298\uc5b4\ub098\uba74 if \ubb38\uc774 \uc810\uc810 \uae38\uc5b4\uc9c4\ub2e4\ub294 \uac83"),(0,l.kt)("li",{parentName:"ul"},"\uc608\uc678\uc0c1\ud669\uc5d0 \ub300\ud55c \ucc98\ub9ac\uac00 \uc5c6\ub2e4\ub294 \uac83")),(0,l.kt)("p",null,"\uba3c\uc800 \ub808\ubca8\uac04\uc758 \uad00\uacc4\ub294 Level \uc774\ub284\uc73c\ub85c \uc774\ub3d9\uc2dc\ud0b5\ub2c8\ub2e4."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java",metastring:"Level.java","Level.java":!0},"public enum Level {\n\n  // highlight-start\n  GOLD(3, null), \n  SILVER(2, GOLD), \n  BASIC(1, SILVER); \n  // highlight-end \n    \n  private final int value;\n  // highlight-next-line\n  private final Level next; \n    \n  Level(int value, Level next) {  \n    this.value = value;\n    this.next = next; \n  }\n    \n  // ...\n    \n  public Level nextLevel() { \n    return this.next;\n  }\n    \n  // ...\n    \n}\n")),(0,l.kt)("p",null,"\uc774\ub807\uac8c \ud558\uba74 UserService \uac00 \ube44\uc988\ub2c8\uc2a4 \ub85c\uc9c1\uc5d0\uc11c \uc77c\uc77c\uc774 \uc870\uac74\uc2dd\uc73c\ub85c \ub2e4\uc74c \ub808\ubca8\uc744 \uc9c0\uc815\ud560 \ud544\uc694\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uc0ac\uc6a9\uc790\uc758 \ub808\ubca8\uc774 \ubc14\ub00c\ub294 \ub85c\uc9c1\ub3c4 UserService \ubcf4\ub2e4 User \uc5d0\uc11c \ucc98\ub9ac\ud558\ub3c4\ub85d \ud569\ub2c8\ub2e4."),(0,l.kt)("admonition",{type:"info"},(0,l.kt)("p",{parentName:"admonition"},"\uac1d\uccb4\uc758 \ub0b4\ubd80 \uc815\ubcf4\uac00 \ubcc0\uacbd\ub418\ub294 \uac83\uc740 \uac1d\uccb4 \uc2a4\uc2a4\ub85c \ub2e4\ub8e8\ub294 \uac83\uc774 \uc801\uc808\ud569\ub2c8\ub2e4.")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java",metastring:'title="User.java"',title:'"User.java"'},'public class User {\n\n  // ...\n  \n  // highlight-start\n  public void upgradeLevel() {\n    Level nextLevel = this.level.nextLevel();   \n    if (nextLevel == null) {                                \n      throw new IllegalStateException(this.level + "\uc740  \uc5c5\uadf8\ub808\uc774\ub4dc\uac00 \ubd88\uac00\ub2a5\ud569\ub2c8\ub2e4");\n    } else {\n      this.level = nextLevel;\n    }\n  }\n  // highlight-end\n    \n}\n')),(0,l.kt)("p",null,"upgradeLevel() \uba54\uc18c\ub4dc\ub97c \uc798\ubabb \uc0ac\uc6a9\ud558\ub294 \ucf54\ub4dc\uac00 \uc788\uc744 \uc218 \uc788\uc73c\ub2c8 \uc608\uc678\ucc98\ub9ac\ub3c4 \ud3ec\ud568\ud558\ub3c4\ub85d \ud569\ub2c8\ub2e4."),(0,l.kt)("p",null,"\ub9ac\ud329\ud1a0\ub9c1 \ud6c4 UserService \ub294 \ub2e4\uc74c\uacfc \uac19\uc774 \ubcc0\uacbd\ub429\ub2c8\ub2e4."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java",metastring:'title="UserService.java"',title:'"UserService.java"'},'public class UserService {\n\n  // ...\n  \n  public void upgradeLevels() {\n    List<User> users = userDao.getAll(); \n    for(User user : users) {\n      if (canUpgradeLevel(user)) { \n        upgradeLevel(user);\n      }\n    }\n  }\n  \n  private boolean canUpgradeLevel(User user) {\n    Level currentLevel = user.getLevel();\n    switch(currentLevel) {\n      case BASIC: return (user.getLogin() >= 50); \n      case SILVER: return (user.getRecommend() >= 30);\n      case GOLD: return false;\n      default: throw new IllegalArgumentException("Unknown Level: " + currentLevel); \n    }\n  }\n  \n  private void upgradeLevel(User user) {\n    // highlight-next-line\n    user.upgradeLevel();\n    userDao.update(user);\n  }\n\n}\n')),(0,l.kt)("p",null,"\uc774\uc81c UserService, User, Level \uc774 \uac01\uc790\uc758 \ub0b4\ubd80 \uc815\ubcf4\ub97c \ub2e4\ub8e8\ub294 \uc790\uc2e0\uc758 \ucc45\uc784\uc5d0 \ucda9\uc2e4\ud55c \uae30\ub2a5\uc744 \uac00\uc9c0\uace0 \uc788\uc73c\uba74\uc11c \ud544\uc694\ud55c \uc77c\uc774 \uc0dd\uae30\uba74 \uc218\ud589\uc744 \uc694\uccad\ud558\ub294 \uad6c\uc870\ub97c \uac00\uc9c0\uace0 \uc788\uc2b5\ub2c8\ub2e4."),(0,l.kt)("p",null,"\ucf54\ub4dc \uac04\uacb0\ud558\uae30 \ub54c\ubb38\uc5d0 \ubcc0\uacbd\uc774 \ud544\uc694\ud560 \ub54c \uc218\uc815\ud560 \uc9c0\uc810\uc744 \uc27d\uac8c \ucc3e\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,l.kt)("p",null,"\ub3c5\ub9bd\uc801\uc73c\ub85c \ud14c\uc2a4\ud2b8\ud558\ub3c4\ub85d \ub9cc\ub4e0\ub2e4\uba74 \ud14c\uc2a4\ud2b8 \ucf54\ub4dc\ub3c4 \ub2e8\uc21c\ud574 \uc9d1\ub2c8\ub2e4."),(0,l.kt)("admonition",{type:"info"},(0,l.kt)("p",{parentName:"admonition"},"\uac1d\uccb4\uc9c0\ud5a5\uc801 \ucf54\ub4dc\ub294 \ub2e4\ub978 \uac1d\uccb4\uc758 \ub370\uc774\ud130\ub97c \uac00\uc838\uc640\uc11c \uc791\uc5c5\ud558\uc9c0 \uc54a\uace0 \uadf8 \uac1d\uccb4\uc5d0 \uc791\uc5c5\uc744 \ud574\ub2ec\ub77c\uace0 \uc694\uccad\ud569\ub2c8\ub2e4."),(0,l.kt)("p",{parentName:"admonition"},"\uc624\ube0c\uc81d\ud2b8\uc5d0\uac8c \ub370\uc774\ud130\ub97c \uc694\uad6c\ud558\uc9c0 \ub9d0\uace0 \uc791\uc5c5\uc744 \uc694\uccad\ud558\ub77c\ub294 \uac83\uc774 \uac1d\uccb4\uc9c0\ud5a5 \ud504\ub85c\uadf8\ub798\ubc0d\uc758 \uac00\uc7a5 \uae30\ubcf8\uc774 \ub418\ub294 \uc6d0\ub9ac\uc785\ub2c8\ub2e4.")),(0,l.kt)("h4",{id:"user-\ud14c\uc2a4\ud2b8"},"User \ud14c\uc2a4\ud2b8"),(0,l.kt)("p",null,"User \uc5d0 \ub300\ud55c \ud14c\uc2a4\ud2b8\ub3c4 \ub9cc\ub4e4\uc5b4 \ubd05\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uc55e\uc73c\ub85c \uacc4\uc18d \uc0c8\ub85c\uc6b4 \uae30\ub2a5\uacfc \ub85c\uc9c1\uc774 \ucd94\uac00\ub420 \uac00\ub2a5\uc131\uc774 \uc788\uc73c\ub2c8 \ud14c\uc2a4\ud2b8\ub97c \ub9cc\ub4e4\uc5b4\ub450\uba74 \ub3c4\uc6c0\uc774 \ub420 \uac83 \uc785\ub2c8\ub2e4."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java",metastring:'title="UserTest.java"',title:'"UserTest.java"'},"public class UserTest {\n\n  User user;\n    \n  @Before\n  public void setUp() {\n    user = new User();\n  }\n    \n  @Test\n  public void upgradeLevel() {\n    Level[] levels = Level.values();\n    for(Level level : levels) {\n      if (level.nextLevel() == null) continue;\n      user.setLevel(level);\n      user.upgradeLevel();\n      assertThat(user.getLevel(), is(level.nextLevel()));\n    }\n  }\n    \n  @Test(expected=IllegalStateException.class)\n  public void cannotUpgradeLevel() {\n    Level[] levels = Level.values();\n    for(Level level : levels) {\n      if (level.nextLevel() != null) continue;\n      user.setLevel(level);\n      user.upgradeLevel();\n    }\n  }\n\n}\n")),(0,l.kt)("h4",{id:"userservicetest-\uac1c\uc120"},"UserServiceTest \uac1c\uc120"),(0,l.kt)("p",null,"\uae30\uc874\uc758 \ud14c\uc2a4\ud2b8 \ucf54\ub4dc\uc5d0\uc11c\ub294 \ubb34\uc5c7\uc744 \ud14c\uc2a4\ud2b8\ud558\ub294\uc9c0 \uc798 \ubcf4\uc774\uc9c0 \uc54a\uc558\ub358 \ubb38\uc81c\uac00 \uc788\uc5c8\uae30\uc5d0 \uc870\uae08 \uc218\uc815\uc744 \ud569\ub2c8\ub2e4."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java",metastring:'title="UserServiceTest.java"',title:'"UserServiceTest.java"'},"@Test\npublic void upgradeLevels() {\n  userDao.deleteAll();\n  for(User user : users) userDao.add(user);\n  \n  userService.upgradeLevels();\n  \n  // highlight-start\n  checkLevelUpgraded(users.get(0), false);\n  checkLevelUpgraded(users.get(1), true);\n  checkLevelUpgraded(users.get(2), false);\n  checkLevelUpgraded(users.get(3), true);\n  checkLevelUpgraded(users.get(4), false);\n  // highlight-end\n}\n\nprivate void checkLevelUpgraded(User user, boolean upgraded) {\n  User userUpdate = userDao.get(user.getId());\n  if (upgraded) {\n    // highlight-next-line\n    assertThat(userUpdate.getLevel(), is(user.getLevel().nextLevel()));\n  } else {\n    // highlight-next-line\n    assertThat(userUpdate.getLevel(), is(user.getLevel()));\n  }\n}\n")),(0,l.kt)("p",null,"\uae30\uc874\uc758 checkLevel() \uba54\uc18c\ub4dc \ud638\ucd9c \uc2dc \ud30c\ub77c\ubbf8\ud130\ub85c \uc804\ub2ec\ud558\ub294 Level \uc774\ub284\uc740 \uc5b4\ub5bb\uac8c \ud14c\uc2a4\ud2b8\ud558\ub294 \uac83\uc778\uc9c0 \uc54c \uc218\uac00 \uc5c6\uc5c8\uc2b5\ub2c8\ub2e4."),(0,l.kt)("p",null,"\ubc18\uba74\uc5d0 checkLevelUpgraded() \uba54\uc18c\ub4dc\uc758 true/false \ub294 \ub808\ubca8 \uc5c5\uadf8\ub808\uc774\ub4dc \uc5ec\ubd80\ub97c \ud655\uc778\ud558\ub824\ub294 \uc758\ub3c4\uac00 \ub4dc\ub7ec\ub0a9\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uace0\uc815\ub41c \uac12\ub3c4 \uc0c1\uc218\ub85c \ubcc0\uacbd\ud574 \uc90d\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uc22b\uc790\uc758 \uc758\ubbf8\ub97c \ud30c\uc545\ud558\uae30 \uc27d\uac8c \ud558\uae30 \uc704\ud574\uc11c\uc774\uace0, \ub610\ud55c \uc5ec\ub7ec \uacf3\uc758 \uac12\uc744 \ud55c\ubc88\uc5d0 \uc218\uc815\ud560 \uc218\ub3c4 \uc788\uc2b5\ub2c8\ub2e4."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="UserService.java"',title:'"UserService.java"'},'public class UserService {\n  // highlight-start\n  public static final int MIN_LOGCOUNT_FOR_SILVER = 50;\n  public static final int MIN_RECCOMEND_FOR_GOLD = 30;\n    // highlight-end\n\n  // ...\n\n  private boolean canUpgradeLevel(User user) {\n    Level currentLevel = user.getLevel(); \n    switch(currentLevel) {\n      // highlight-start\n      case BASIC: return (user.getLogin() >= MIN_LOGCOUNT_FOR_SILVER); \n      case SILVER: return (user.getRecommend() >= MIN_RECCOMEND_FOR_GOLD);\n      // highlight-end\n      case GOLD: return false;\n      default: throw new IllegalArgumentException("Unknown Level: " + currentLevel); \n    }\n  }\n\n  // ...\n\n}\n')),(0,l.kt)("p",null,"UserServiceTest \ub3c4 \ubcc0\uacbd\ud569\ub2c8\ub2e4."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java",metastring:'title="UserServiceTest.java"',title:'"UserServiceTest.java"'},'// ...\n\n// highlight-start\nimport static springbook.user.service.UserService.MIN_LOGCOUNT_FOR_SILVER;\nimport static springbook.user.service.UserService.MIN_RECCOMEND_FOR_GOLD;\n// highlight-end\n\n@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(locations="/test-applicationContext.xml")\npublic class UserServiceTest {\n  \n  // ...\n    \n  @Before\n  public void setUp() {\n    users = Arrays.asList(\n      new User("bumjin", "\ubc15\ubc94\uc9c4", "p1", Level.BASIC, MIN_LOGCOUNT_FOR_SILVER-1, 0),\n      new User("joytouch", "\uac15\uba85\uc131", "p2", Level.BASIC, MIN_LOGCOUNT_FOR_SILVER, 0),\n      new User("erwins", "\uc2e0\uc2b9\ud55c", "p3", Level.SILVER, 60, MIN_RECCOMEND_FOR_GOLD-1),\n      new User("madnite1", "\uc774\uc0c1\ud638", "p4", Level.SILVER, 60, MIN_RECCOMEND_FOR_GOLD),\n      new User("green", "\uc624\ubbfc\uaddc", "p5", Level.GOLD, 100, Integer.MAX_VALUE)\n    );\n  }\n\n  // ...\n    \n}\n')),(0,l.kt)("p",null,"\ub9cc\uc57d \ub808\ubca8\uc744 \uc5c5\uadf8\ub808\uc774\ub4dc \ud558\ub294 \uc815\ucc45\uc744 \uc720\uc5f0\ud558\uac8c \ubcc0\uacbd\ud560 \uc218 \uc788\ub3c4\ub85d \ud558\uace0 \uc2f6\ub2e4\uba74 \uc5c5\uadf8\ub808\uc774\ub4dc \uc815\ucc45\uc744 UserService \uc5d0\uc11c \ubd84\ub9ac\ud558\ub294 \ubc29\ubc95\uc744 \uace0\ub824\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,l.kt)("p",null,"UserLevelUpgradePolicy \uc778\ud130\ud398\uc774\uc2a4\ub97c \ub9cc\ub4e4\uace0 \uadf8 \uad6c\ud604 \ud074\ub798\uc2a4\ub97c UserService \uc5d0 \uc8fc\uc785\ud558\ub3c4\ub85d \ub9cc\ub4dc\ub294 \ubc29\ubc95\uc785\ub2c8\ub2e4."),(0,l.kt)("h2",{id:"52-\ud2b8\ub79c\uc7ad\uc158-\uc11c\ube44\uc2a4-\ucd94\uc0c1\ud654"},"5.2 \ud2b8\ub79c\uc7ad\uc158 \uc11c\ube44\uc2a4 \ucd94\uc0c1\ud654"),(0,l.kt)("p",null,"\uc0ac\uc6a9\uc790 \ub808\ubca8 \uc870\uc815 \uc791\uc5c5 \uc911\uac04\uc5d0 \ubb38\uc81c\uac00 \ubc1c\uc0dd\ud558\uba74 \uadf8\ub54c\uae4c\uc9c0 \uc9c4\ud589\ub418\uc5c8\ub358 \ubaa8\ub4e0 \ubcc0\uacbd \uc791\uc5c5\uc744 \ubaa8\ub450 \ucde8\uc18c\uc2dc\ud0a4\ub3c4\ub85d \ud569\ub294 \uae30\ub2a5\uc744 \ucd94\uac00\ud569\ub2c8\ub2e4."),(0,l.kt)("h3",{id:"521-\ubaa8-\uc544\ub2c8\uba74-\ub3c4"},"5.2.1 \ubaa8 \uc544\ub2c8\uba74 \ub3c4"),(0,l.kt)("p",null,"\uc791\uc5c5 \uc218\ud589 \uc911 \uc608\uc678\uac00 \ub358\uc838\uc9c0\ub294 \uc0c1\ud669\uc744 \uc758\ub3c4\uc801\uc73c\ub85c \ub9cc\ub4e4\uc5b4\uc11c \ud14c\uc2a4\ud2b8\ud574 \ubd05\ub2c8\ub2e4."),(0,l.kt)("h4",{id:"\ud14c\uc2a4\ud2b8\uc6a9-userservice-\ub300\uc5ed"},"\ud14c\uc2a4\ud2b8\uc6a9 UserService \ub300\uc5ed"),(0,l.kt)("p",null,"\ud14c\uc2a4\ud2b8\ub97c \uc704\ud574 UserService \uc758 \uc11c\ube0c\ud074\ub798\uc2a4\ub97c \ub9cc\ub4ed\ub2c8\ub2e4."),(0,l.kt)("p",null,"\ud14c\uc2a4\ud2b8\uc6a9 UserService \uc11c\ube0c\ud074\ub798\uc2a4\ub294 UserService \uc758 \uc77c\ubd80 \uba54\uc18c\ub4dc\ub97c \ud2b9\uc815 \uc2dc\uc810\uc5d0 \uac15\uc81c\ub85c \uc608\uc678\ub97c \ubc1c\uc0dd\ud558\ub3c4\ub85d \uad6c\ud604\ud569\ub2c8\ub2e4."),(0,l.kt)("p",null,"\ud14c\uc2a4\ud2b8\uc6a9\uc774\uae30 \ub54c\ubb38\uc5d0 \ud14c\uc2a4\ud2b8\ud074\ub798\uc2a4 \ub0b4\ubd80\uc5d0\uc11c static \ud074\ub798\uc2a4\ub85c \ub9cc\ub4ed\ub2c8\ub2e4."),(0,l.kt)("p",null,"\ud14c\uc2a4\ud2b8\ud558\ub824\ub294 UserService \uc758 upgradeLevel() \uba54\uc18c\ub4dc\uc758 \uc811\uadfc\uad8c\ud55c\uc744 'protected' \ub85c \ubcc0\uacbd\ud558\uace0, \uc11c\ube0c\ud074\ub798\uc2a4\uc5d0\uc11c \uc624\ubc84\ub77c\uc774\ub529 \ud569\ub2c8\ub2e4."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java",metastring:'title="UserServiceTest.java"',title:'"UserServiceTest.java"'},"public class UserServiceTest {\n\n  // ...\n  \n  // highlight-next-line\n  static class TestUserService extends UserService {\n    private String id;\n    \n    private TestUserService(String id) {  \n      this.id = id;\n    }\n  \n    // highlight-next-line\n    protected void upgradeLevel(User user) {\n      if (user.getId().equals(this.id)) throw new TestUserServiceException();  \n      super.upgradeLevel(user);  \n    }\n  }\n  \n  static class TestUserServiceException extends RuntimeException {\n  }\n}\n")),(0,l.kt)("h4",{id:"\uac15\uc81c-\uc608\uc678-\ubc1c\uc0dd\uc744-\ud1b5\ud55c-\ud14c\uc2a4\ud2b8"},"\uac15\uc81c \uc608\uc678 \ubc1c\uc0dd\uc744 \ud1b5\ud55c \ud14c\uc2a4\ud2b8"),(0,l.kt)("p",null,"UserServiceTest \uc5d0 \ud14c\uc2a4\ud2b8\ucf00\uc774\uc2a4\ub97c \ub9cc\ub4ed\ub2c8\ub2e4."),(0,l.kt)("p",null,"fail() \uba54\uc18c\ub4dc\ub294 \ub9cc\uc57d upgradeLevels() \uba54\uc18c\ub4dc\uac00 \uc815\uc0c1\uc885\ub8cc\ub418\uba74 \uac15\uc81c\ub85c \uc2e4\ud328\ud558\uac8c \ub9cc\ub4dc\ub294 \uba54\uc18c\ub4dc\uc785\ub2c8\ub2e4."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java",metastring:'title="UserServiceTest.java"',title:'"UserServiceTest.java"'},'import static org.junit.Assert.fail;\n\n// ...\n\npublic class UserServiceTest {\n\n  // ...\n  \n  @Test\n  public void upgradeAllOrNothing() throws Exception {\n    // highlight-next-line\n    UserService testUserService = new TestUserService(users.get(3).getId());  \n    testUserService.setUserDao(this.userDao); \n    testUserService.setDataSource(this.dataSource);\n     \n    userDao.deleteAll();              \n    for(User user : users) userDao.add(user);\n    \n    try {\n      // highlight-next-line\n      testUserService.upgradeLevels();   \n      fail("TestUserServiceException expected"); \n    } catch(TestUserServiceException e) { \n    }\n    \n    // \uae30\uc874 User \uc758 \ub4f1\uae09\uc774 \ubcc0\uacbd\ub418\uc5c8\ub294\uc9c0 \ud655\uc778\n    checkLevelUpgraded(users.get(1), false);\n  }\n}\n')),(0,l.kt)("p",null,"\ud558\uc9c0\ub9cc \uc774 \ud14c\uc2a4\ud2b8\ub294 \uc2e4\ud328\ud569\ub2c8\ub2e4."),(0,l.kt)("h4",{id:"\ud14c\uc2a4\ud2b8-\uc2e4\ud328\uc758-\uc6d0\uc778"},"\ud14c\uc2a4\ud2b8 \uc2e4\ud328\uc758 \uc6d0\uc778"),(0,l.kt)("p",null,"upgradeLevels() \uba54\uc18c\ub4dc\uac00 \uc544\uc9c1 \ud2b8\ub79c\uc7ad\uc158\uc73c\ub85c \ucc98\ub9ac\ub418\uc9c0 \uc54a\uc558\uae30 \ub54c\ubb38\uc5d0 \uc911\uac04\uc5d0 \uc608\uc678\uac00 \ubc1c\uc0dd\ud558\ub354\ub77c\ub3c4 \uae30\uc874\uc758 \ubcc0\uacbd\uc774 \ucde8\uc18c\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."),(0,l.kt)("h3",{id:"522-\ud2b8\ub79c\uc7ad\uc158-\uacbd\uacc4\uc124\uc815"},"5.2.2 \ud2b8\ub79c\uc7ad\uc158 \uacbd\uacc4\uc124\uc815"),(0,l.kt)("p",null,"\ud558\ub098\uc758 SQL \uba85\ub839\uc740 DB \uc790\uccb4\uc5d0\uc11c \ud2b8\ub79c\uc7ad\uc158\uc744 \ubcf4\uc7a5\ud569\ub2c8\ub2e4."),(0,l.kt)("p",null,"\ud558\uc9c0\ub9cc \uc774\ubc88 \uc694\uad6c\uc0ac\ud56d\ucc98\ub7fc \uc5ec\ub7ec SQL \uba85\ub839\uc744 \ud558\ub098\uc758 \ud2b8\ub79c\uc7ad\uc158\uc73c\ub85c \ubb36\uc5b4\uc57c \ud558\ub294 \uc0c1\ud669\uc774 \uc788\uc2b5\ub2c8\ub2e4."),(0,l.kt)("h4",{id:"jdbc-\ud2b8\ub79c\uc7ad\uc158\uc758-\ud2b8\ub79c\uc7ad\uc158-\uacbd\uacc4\uc124\uc815"},"JDBC \ud2b8\ub79c\uc7ad\uc158\uc758 \ud2b8\ub79c\uc7ad\uc158 \uacbd\uacc4\uc124\uc815"),(0,l.kt)("p",null,"\ud2b8\ub79c\uc7ad\uc158\uc740 \uc2dc\uc791\ud558\ub294 \uc9c0\uc810\uacfc \ub05d\ub098\ub294 \uc9c0\uc810\uc774 \uc788\uc2b5\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uc2dc\uc791\ud558\ub294 \ubc29\ubc95\uc740 \ud55c \uac00\uc9c0\uc774\uc9c0\ub9cc \ub05d\ub0b4\ub294 \ubc29\ubc95\uc740 \ubb34\ud6a8\ud654\ud558\ub294 Transaction Rollback, \ud655\uc815\ud558\ub294 Transaction Commit \uc774 \uc788\uc2b5\ub2c8\ub2e4."),(0,l.kt)("p",null,"\ud2b8\ub79c\uc7ad\uc158\uc774 \uc2dc\uc791\ud558\uace0 \ub05d\ub098\ub294 \uc9c0\uc810\uc744 \ud2b8\ub79c\uc7ad\uc158 \uacbd\uacc4\ub77c\uace0 \ud569\ub2c8\ub2e4."),(0,l.kt)("p",null,"\ud2b8\ub79c\uc7ad\uc158\uc758 \uc2dc\uc791\uacfc \uc885\ub8cc\ub294 Connection \uc624\ube0c\uc81d\ud2b8\ub97c \ud1b5\ud574 \uc774\ub8e8\uc5b4 \uc9d1\ub2c8\ub2e4."),(0,l.kt)("p",null,"JDBC \uc758 \uae30\ubcf8\uc124\uc815\uc740 DB \uc791\uc5c5 \uc218\ud589\uc774 \uc644\ub8cc\ub418\uba74 \ud2b8\ub79c\uc7ad\uc158 \ucee4\ubc0b\uc744 \ud558\ub3c4\ub85d \ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4."),(0,l.kt)("p",null,"setAutoCommit(false) \uc73c\ub85c \uc2dc\uc791\ud558\uace0, commit(), rollback() \uc744 \uc120\uc5b8\ud558\uc5ec \uc218\ub3d9\uc73c\ub85c \ucc98\ub9ac\ud558\ub294 \uc791\uc5c5\uc744 \ud2b8\ub79c\uc7ad\uc158\uc758 \uacbd\uacc4\uc124\uc815 transaction demarcation \uc774\ub77c\uace0 \ud569\ub2c8\ub2e4."),(0,l.kt)("h4",{id:"userservice-\uc640-userdao\uc758-\ud2b8\ub79c\uc7ad\uc158-\ubb38\uc81c"},"UserService \uc640 UserDao\uc758 \ud2b8\ub79c\uc7ad\uc158 \ubb38\uc81c"),(0,l.kt)("p",null,"\uc77c\ubc18\uc801\uc73c\ub85c \ud2b8\ub79c\uc7ad\uc158\uc740 Connection \ubcf4\ub2e4 \uc218\uba85\uc774 \uc9e7\uc744 \uc218 \ubc16\uc5d0 \uc5c6\uc2b5\ub2c8\ub2e4."),(0,l.kt)("p",null,"UserDaoJdbc \uc624\ube0c\uc81d\ud2b8\ub294 JdbcTemplate \uc744 \uc0ac\uc6a9\ud558\uace0, JdbcTemplate \uba54\uc18c\ub4dc(ex. update())\ub4e4\uc740 DataSource \uc758 getConnection() \uba54\uc18c\ub4dc\ub97c \ud638\ucd9c\ud558\uc5ec \uc791\uc5c5\ud558\uace0, \uc791\uc5c5\uc774 \ub05d\ub098\uba74 Connection \uc744 \ub2eb\uc544\uc90d\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uacb0\uad6d JdbcTemplate \uba54\uc18c\ub4dc \ud638\ucd9c \ud55c\ubc88\uc5d0 \ud558\ub098\uc758 Connection \uc744 \ub9cc\ub4e4\uace0 \ub2eb\uae30 \ub54c\ubb38\uc5d0, \uac01 \uba54\uc18c\ub4dc\ub4e4\uc740 \ub3c5\ub9bd\uc801\uc778 \ud2b8\ub79c\uc7ad\uc158\uc73c\ub85c \uc2e4\ud589\ub420 \uc218 \ubc16\uc5d0 \uc5c6\uc2b5\ub2c8\ub2e4."),(0,l.kt)("h4",{id:"\ube44\uc988\ub2c8\uc2a4-\ub85c\uc9c1-\ub0b4\uc758-\ud2b8\ub79c\uc7ad\uc158-\uacbd\uacc4\uc124\uc815"},"\ube44\uc988\ub2c8\uc2a4 \ub85c\uc9c1 \ub0b4\uc758 \ud2b8\ub79c\uc7ad\uc158 \uacbd\uacc4\uc124\uc815"),(0,l.kt)("p",null,"\uc5ec\ub7ec SQL \uc744 \ud55c\ubc88\uc5d0 \ubb36\uae30 \uc704\ud574\uc11c\ub294 UserService \uc5d0\uc11c \ud2b8\ub79c\uc7ad\uc158\uc758 \uacbd\uacc4\uc124\uc815 \uc791\uc5c5\uc744 \ud574\uc57c\ud569\ub2c8\ub2e4."),(0,l.kt)("p",null,"UserService \uc5d0\uc11c Connection \uac1d\uccb4\ub97c \uc0dd\uc131\ud558\uace0, Connection \uac1d\uccb4\ub97c upgradeLevel() \uba54\uc18c\ub4dc\ub098 UserDaoJdbc \uac1d\uccb4\uc758 \uba54\uc18c\ub4dc\ub97c \ud1b5\ud574 \uc804\ub2ec\ud574\uc918\uc57c \ud569\ub2c8\ub2e4. "),(0,l.kt)("h4",{id:"userservice-\ud2b8\ub79c\uc7ad\uc158-\uacbd\uacc4\uc124\uc815\uc758-\ubb38\uc81c\uc810"},"UserService \ud2b8\ub79c\uc7ad\uc158 \uacbd\uacc4\uc124\uc815\uc758 \ubb38\uc81c\uc810"),(0,l.kt)("p",null,"UserService \uc640 UserDao \uc5d0 Connection \uac1d\uccb4\ub97c \uc0dd\uc131\ud558\uace0, \uc804\ub2ec\ubc1b\uc544 \ucc98\ub9ac\ud558\ub294 \uc2dd\uc758 \uc218\uc815\uc740 \ub2e4\ub978 \ubb38\uc81c\ub97c \ubc1c\uc0dd\uc2dc\ud0b5\ub2c8\ub2e4."),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"JdbcTemplate \uc0ac\uc6a9\uc774 \ubd88\uac00\ud558\uace0 JDBC API \uc744 \uc9c1\uc811 \uc0ac\uc6a9\ud574\uc57c \ud568"),(0,l.kt)("li",{parentName:"ol"},"Connection \uac1d\uccb4\uac00 UserService \uc640 UserDao \uc5d0 \ud30c\ub77c\ubbf8\ud130\ub85c \ucd94\uac00\ub418\uc5b4\uc57c \ud558\uace0 \uba54\uc18c\ub4dc\ub9c8\ub2e4 \uacc4\uc18d \uc804\ub2ec"),(0,l.kt)("li",{parentName:"ol"},"Connection \ud30c\ub77c\ubbf8\ud130\uac00 UserDao \uc778\ud130\ud398\uc774\uc2a4 \uba54\uc18c\ub4dc\uc5d0 \ucd94\uac00\ub418\uba74 UserDao \ub294 \ub354 \uc774\uc0c1 \ub370\uc774\ud130 \uc561\uc138\uc2a4 \uae30\uc220\uc5d0 \ub3c5\ub9bd\uc801\uc77c \uc218\uac00 \uc5c6\uc74c"),(0,l.kt)("li",{parentName:"ol"},"\ud14c\uc2a4\ud2b8 \ucf54\ub4dc\uc5d0\uc11c \uc9c1\uc811 Connection \uc624\ube0c\uc81d\ud2b8\ub97c \uc77c\uc77c\uc774 \ub9cc\ub4e4\uc5b4\uc11c DAO \uba54\uc18c\ub4dc\ub97c \ud638\ucd9c\ud558\ub3c4\ub85d \ubaa8\ub450 \ubcc0\uacbd")),(0,l.kt)("h3",{id:"523-\ud2b8\ub79c\uc7ad\uc158-\ub3d9\uae30\ud654"},"5.2.3 \ud2b8\ub79c\uc7ad\uc158 \ub3d9\uae30\ud654"),(0,l.kt)("h4",{id:"connection-\ud30c\ub77c\ubbf8\ud130-\uc81c\uac70"},"Connection \ud30c\ub77c\ubbf8\ud130 \uc81c\uac70"),(0,l.kt)("p",null,"upgradeLevels() \uba54\uc18c\ub4dc\uac00 \ud2b8\ub79c\uc7ad\uc158 \uacbd\uacc4\uc124\uc815\uc744 \ud574\uc57c\ud558\ub294 \uc0c1\ud669\uc5d0\uc11c Connection \uc744 \ud30c\ub77c\ubbf8\ud130\ub85c \uc804\ub2ec\ud558\ub294 \ubb38\uc81c\ub97c \ud574\uacb0\ud574\ubd05\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uc2a4\ud504\ub9c1\uc5d0\uc11c\ub294 \ud2b8\ub79c\uc7ad\uc158 \ub3d9\uae30\ud654 transaction synchronization \ubc29\uc2dd\uc744 \uc81c\uc548\ud569\ub2c8\ub2e4."),(0,l.kt)("p",null,"UserService \uc5d0\uc11c \ub9cc\ub4e0 Connection \uac1d\uccb4\ub97c \ud2b9\ubcc4\ud55c(?) \uc800\uc7a5\uc18c\uc5d0 \ubcf4\uad00\ud574\ub450\uace0 \ud544\uc694\ud560 \ub54c \uc0ac\uc6a9\ud558\ub294 \ubc29\uc2dd\uc785\ub2c8\ub2e4."),(0,l.kt)("p",null,"\ud2b8\ub79c\uc7ad\uc158 \ub3d9\uae30\ud654\ub97c \uc0ac\uc6a9\ud55c \uacbd\uc6b0\uc758 \uc791\uc5c5 \ud750\ub984\uc744 \uc0b4\ud3b4\ubd05\ub2c8\ub2e4."),(0,l.kt)(r.Z,{img:t(2551),mdxType:"Image"}),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"UserService \uac00 Connection \uc744 \uc0dd\uc131\ud55c\ub2e4."),(0,l.kt)("li",{parentName:"ol"},"\ud2b8\ub79c\uc7ad\uc158 \ub3d9\uae30\ud654 \uc800\uc7a5\uc18c\uc5d0 \uc800\uc7a5\ud558\uace0, Connection \uc758 setAutoCommit(false) \ub97c \ud638\ucd9c\ud574 \ud2b8\ub79c\uc7ad\uc158\uc744 \uc2dc\uc791\ud55c\ub2e4."),(0,l.kt)("li",{parentName:"ol"},"\uccab \ubc88\uc9f8 update() \uba54\uc18c\ub4dc\uac00 \ud638\ucd9c\ub418\uba74 update() \uba54\uc18c\ub4dc \ub0b4\ubd80\uc5d0\uc11c JdbcTemplate \uc758 update() \uba54\uc18c\ub4dc\uac00 \uc791\ub3d9\ub41c\ub2e4."),(0,l.kt)("li",{parentName:"ol"},"JdbcTemplate \uc758 update() \uba54\uc18c\ub4dc\ub294 \ud2b8\ub79c\uc7ad\uc158 \ub3d9\uae30\ud654 \uc800\uc7a5\uc18c\uc5d0 \ud604\uc7ac \uc2dc\uc791\ub41c \ud2b8\ub79c\uc7ad\uc158\uc744 \uac00\uc9c4 Connection \uac1d\uccb4\uac00 \uc788\ub294\uc9c0 \ud655\uc778\ud55c\ub2e4."),(0,l.kt)("li",{parentName:"ol"},"Connection \uac1d\uccb4\ub97c \uc774\uc6a9\ud574\uc11c PreparedStatement \ub97c \ub9cc\ub4e4\uc5b4 SQL \uc744 \uc2e4\ud589\ud55c\ub2e4. JdbcTemplate \ub294 Connection \uac1d\uccb4\ub97c \ud2b8\ub79c\uc7ad\uc158 \ub3d9\uae30\ud654 \uc800\uc7a5\uc18c\uc5d0\uc11c \uac00\uc838\uc628 \uacbd\uc6b0\uc5d0\ub294 Connection \uc744 \ub2eb\uc9c0 \uc54a\uace0 \uc791\uc5c5\uc744 \ub9c8\uce5c\ub2e4."),(0,l.kt)("li",{parentName:"ol"},"\ub450 \ubc88\uc9f8 update() \uba54\uc18c\ub4dc\uac00 \ud638\ucd9c\ub41c\ub2e4."),(0,l.kt)("li",{parentName:"ol"},"\ud2b8\ub79c\uc7ad\uc158 \ub3d9\uae30\ud654 \uc800\uc7a5\uc18c\uc5d0 Connection \uc744 \uac00\uc838\uc628\ub2e4."),(0,l.kt)("li",{parentName:"ol"},"JdbcTemplate \ub294 Connection \uac1d\uccb4\ub97c \uc0ac\uc6a9\ud574\uc11c SQL \uc744 \uc2e4\ud589\ud55c\ub2e4."),(0,l.kt)("li",{parentName:"ol"},"\ub9c8\uc9c0\ub9c9 update() \uba54\uc18c\ub4dc\uac00 \ud638\ucd9c\ub41c\ub2e4."),(0,l.kt)("li",{parentName:"ol"},"\ud2b8\ub79c\uc7ad\uc158 \ub3d9\uae30\ud654 \uc800\uc7a5\uc18c\uc5d0 Connection \uc744 \uac00\uc838\uc628\ub2e4."),(0,l.kt)("li",{parentName:"ol"},"JdbcTemplate \ub294 Connection \uac1d\uccb4\ub97c \uc0ac\uc6a9\ud574\uc11c SQL \uc744 \uc2e4\ud589\ud55c\ub2e4."),(0,l.kt)("li",{parentName:"ol"},"UserService \ub294 \ud2b8\ub79c\uc7ad\uc158 \ub0b4\uc758 \ubaa8\ub4e0 \uc791\uc5c5\uc774 \ub05d\ub098\uba74 Connection \uc758 commit() \uc744 \ud638\ucd9c\ud574\uc11c \ud2b8\ub79c\uc7ad\uc158\uc744 \uc644\ub8cc\uc2dc\ud0a8\ub2e4."),(0,l.kt)("li",{parentName:"ol"},"UserService \ub294 \ud2b8\ub79c\uc7ad\uc158\uc774 \uc644\ub8cc\ub418\uba74 \ud2b8\ub79c\uc7ad\uc158 \uc800\uc7a5\uc18c\uc5d0\uc11c Connection() \uac1d\uccb4\ub97c \uc0ad\uc81c\ud55c\ub2e4.")),(0,l.kt)("p",null,"\ud2b8\ub79c\uc7ad\uc158 \ub3d9\uae30\ud654 \uc800\uc7a5\uc18c\ub294 \uc791\uc5c5 \uc2a4\ub808\ub4dc\ub9c8\ub2e4 \ub3c5\ub9bd\uc801\uc73c\ub85c Connection \uac1d\uccb4\ub97c \uc800\uc7a5\ud558\uace0 \uad00\ub9ac\ud558\uae30 \ub54c\ubb38\uc5d0 \uba40\ud2f0\uc2a4\ub808\ub4dc \ud658\uacbd\uc5d0\uc11c\ub3c4 \ucda9\ub3cc\uc774 \ub0a0 \uc5fc\ub824\ub294 \uc5c6\uc2b5\ub2c8\ub2e4."),(0,l.kt)("p",null,"\ud2b8\ub79c\uc7ad\uc158 \ub3d9\uae30\ud654 \uae30\ubc95\uc744 \uc0ac\uc6a9\ud558\uba74 \ud30c\ub77c\ubbf8\ud130\ub97c \ud1b5\ud574 \uc77c\uc77c\uc774 Connection \uac1d\uccb4\ub97c \uc804\ub2ec\ud560 \ud544\uc694\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."),(0,l.kt)("h4",{id:"\ud2b8\ub79c\uc7ad\uc158-\ub3d9\uae30\ud654-\uc801\uc6a9"},"\ud2b8\ub79c\uc7ad\uc158 \ub3d9\uae30\ud654 \uc801\uc6a9"),(0,l.kt)("p",null,"\uba40\ud2f0\uc2a4\ub808\ub4dc \ud658\uacbd\uc5d0\uc11c \uc548\uc804\ud55c \ud2b8\ub79c\uc7ad\uc158 \ub3d9\uae30\ud654 \ubc29\ubc95\uc744 \uad6c\ud604\ud558\ub294 \uc77c\uc740 \uac04\ub2e8\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."),(0,l.kt)("p",null,"\ub2e4\ud589\ud788 \uc2a4\ud504\ub9c1\uc5d0\uc11c\ub294 \ud2b8\ub79c\uc7ad\uc158 \ub3d9\uae30\ud654 \uae30\ub2a5\uc744 \uc9c0\uc6d0\ud558\ub294 \uc720\ud2f8\ub9ac\ud2f0 \uba54\uc18c\ub4dc\ub97c \uc81c\uacf5\ud569\ub2c8\ub2e4."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java",metastring:'title="UserService.java"',title:'"UserService.java"'},"// ...\n\nimport org.springframework.jdbc.datasource.DataSourceUtils;\nimport org.springframework.transaction.support.TransactionSynchronizationManager;\n\npublic class UserService {\n\n  // highlight-next-line\n  private DataSource dataSource;\n  \n  public void setDataSource(DataSource dataSource) {\n    this.dataSource = dataSource;\n  }\n    \n  public void upgradeLevels() throws Exception {\n      // highlight-start\n    TransactionSynchronizationManager.initSynchronization();  \n    Connection c = DataSourceUtils.getConnection(dataSource); \n    c.setAutoCommit(false);\n        // highlight-end\n        \n    try {                                      \n      List<User> users = userDao.getAll();\n      for (User user : users) {\n        if (canUpgradeLevel(user)) {\n          upgradeLevel(user);\n        }\n      }\n      // highlight-next-line\n      c.commit();\n    } catch (Exception e) {\n      // highlight-next-line    \n      c.rollback();\n      throw e;\n    } finally {\n      DataSourceUtils.releaseConnection(c, dataSource);\n      // highlight-start    \n      TransactionSynchronizationManager.unbindResource(this.dataSource);  \n      TransactionSynchronizationManager.clearSynchronization();\n            // highlight-end  \n    }\n  }\n    \n  // ...\n    \n}\n")),(0,l.kt)("p",null,"\uba3c\uc800 Connection \uc744 \uc0dd\uc131\ud560 \ub54c \uc0ac\uc6a9\ud560 DataSource \ub97c DI \ubc1b\uc2b5\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uc2a4\ud504\ub9c1\uc774 \uc81c\uacf5\ud558\ub294 \ud2b8\ub79c\uc7ad\uc158 \ub3d9\uae30\ud654 \uad00\ub9ac \ud074\ub798\uc2a4\ub294 TransactionSynchronizationManager \uc785\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uba3c\uc800 \ud2b8\ub79c\uc7ad\uc158 \ub3d9\uae30\ud654 \uc791\uc5c5\uc744 \ucd08\uae30\ud654\ud558\uace0, DataSourUtils \ub97c \ud1b5\ud574 DB \ucee4\ub125\uc158\uc744 \uc0dd\uc131\ud569\ub2c8\ub2e4."),(0,l.kt)("p",null,"DataSourceUtils \uc758 getConnection() \uba54\uc18c\ub4dc\ub97c \uc0ac\uc6a9\ud558\ub294 \uc774\uc720\ub294 Connection \uac1d\uccb4\ub97c \uc0dd\uc131\ud574\uc8fc\uae30\ub3c4 \ud558\uc9c0\ub9cc \ud2b8\ub79c\uc7ad\uc158 \ub3d9\uae30\ud654\uc5d0 \uc0ac\uc6a9\ud558\ub3c4\ub85d \uc800\uc7a5\uc18c\uc5d0 \ubc14\uc778\ub529\ud574\uc8fc\uae30 \ub54c\ubb38\uc785\ub2c8\ub2e4."),(0,l.kt)("h4",{id:"\ud2b8\ub79c\uc7ad\uc158-\ud14c\uc2a4\ud2b8-\ubcf4\uc644"},"\ud2b8\ub79c\uc7ad\uc158 \ud14c\uc2a4\ud2b8 \ubcf4\uc644"),(0,l.kt)("p",null,"UserServiceTest \uc758 upgradeAllOrNothing() \ud14c\uc2a4\ud2b8 \uba54\uc18c\ub4dc\uc5d0 dataSource \ube48\uc744 \uc8fc\uc785\ud574\uc90d\ub2c8\ub2e4."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java",metastring:'title="UserServiceTest.java"',title:'"UserServiceTest.java"'},'\n// ...\n\n@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(locations="/test-applicationContext.xml")\npublic class UserServiceTest {\n\n  // highlight-start\n  @Autowired \n  DataSource dataSource;\n  // highlight-end\n\n  @Test\n  public void upgradeAllOrNothing() throws Exception {\n    UserService testUserService = new TestUserService(users.get(3).getId());  \n    testUserService.setUserDao(this.userDao); \n    // highlight-next-line\n    testUserService.setDataSource(this.dataSource);\n     \n    userDao.deleteAll();              \n    for(User user : users) userDao.add(user);\n    \n    try {\n      testUserService.upgradeLevels();   \n      fail("TestUserServiceException expected"); \n    } catch(TestUserServiceException e) { \n    }\n    \n    checkLevelUpgraded(users.get(1), false);\n  }\n  \n}\n')),(0,l.kt)("p",null,"\uc774\uc81c \ub808\ubca8 \uc5c5\uadf8\ub808\uc774\ub4dc \uc791\uc5c5\uc5d0 \ud2b8\ub79c\uc7ad\uc158\uc774 \uc801\uc6a9\ub429\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uc0ac\uc6a9\uc790\uc758 \ub808\ubca8 \uc5c5\uadf8\ub808\uc774\ub4dc \uc791\uc5c5\uc744 \uc644\ub8cc\ud558\uc9c0 \ubabb\ud558\uba74 \uc774\ubbf8 \ubcc0\uacbd\ub41c \uc0ac\uc6a9\uc790\uc758 \ub808\ubca8\ub3c4 \ub864\ubc31\ub429\ub2c8\ub2e4."),(0,l.kt)("h4",{id:"jdbctemplate-\uacfc-\ud2b8\ub79c\uc7ad\uc158-\ub3d9\uae30\ud654"},"JdbcTemplate \uacfc \ud2b8\ub79c\uc7ad\uc158 \ub3d9\uae30\ud654"),(0,l.kt)("p",null,"JdbcTemplate \ub294 \uc601\ub9ac\ud558\uac8c \ub3d9\uc791\ud569\ub2c8\ub2e4."),(0,l.kt)("p",null,"JdbcTemplate \ub294 \ud2b8\ub79c\uc7ad\uc158 \ub3d9\uae30\ud654 \uc800\uc7a5\uc18c\uc5d0 \ub4f1\ub85d\ub41c Connection \uac1d\uccb4\uac00 \uc5c6\ub294 \uacbd\uc6b0\uc5d0 \uc9c1\uc811 DB \ucee4\ub125\uc158\uc744 \ub9cc\ub4e4\uace0 \ud2b8\ub79c\uc7ad\uc158\uc744 \uc2dc\uc791\ud574\uc11c JDBC \uc791\uc5c5\uc744 \uc9c4\ud589\ud569\ub2c8\ub2e4."),(0,l.kt)("p",null,"\ubc18\uba74 upgradeLevels() \uba54\uc18c\ub4dc\ucc98\ub7fc \ud2b8\ub79c\uc7ad\uc158 \ub3d9\uae30\ud654\ub97c \uc2dc\uc791\ud574\ub193\uc558\ub2e4\uba74 \ud2b8\ub79c\uc7ad\uc158 \ub3d9\uae30\ud654 \uc800\uc7a5\uc18c\uc5d0 \ub4e4\uc5b4 \uc788\ub294 DB \ucee4\ub125\uc158\uc744 \uac00\uc838\uc640\uc11c \uae30\uc874\uc758 \ud2b8\ub799\uc7ad\uc158\uc5d0 \ucc38\uc5ec\ud569\ub2c8\ub2e4."),(0,l.kt)("h3",{id:"524-\ud2b8\ub79c\uc7ad\uc158-\uc11c\ube44\uc2a4-\ucd94\uc0c1\ud654"},"5.2.4 \ud2b8\ub79c\uc7ad\uc158 \uc11c\ube44\uc2a4 \ucd94\uc0c1\ud654"),(0,l.kt)("h4",{id:"\uae30\uc220\uacfc-\ud658\uacbd\uc5d0-\uc885\uc18d\ub418\ub294-\ud2b8\ub79c\uc7ad\uc158-\uacbd\uacc4\uc124\uc815-\ucf54\ub4dc"},"\uae30\uc220\uacfc \ud658\uacbd\uc5d0 \uc885\uc18d\ub418\ub294 \ud2b8\ub79c\uc7ad\uc158 \uacbd\uacc4\uc124\uc815 \ucf54\ub4dc"),(0,l.kt)("p",null,"\uc5ec\ub7ec \uac1c\uc758 DB \ub97c \uc0ac\uc6a9\ud558\uace0 \uc788\ub294 \ud658\uacbd\uc5d0\uc11c\ub294 JDBC Connection \uc744 \uc774\uc6a9\ud55c \ud2b8\ub79c\uc7ad\uc158 \ubc29\uc2dd\uc778 \ub85c\uceec \ud2b8\ub79c\uc7ad\uc158\uc73c\ub85c\ub294 \ubd88\uac00\ub2a5\ud569\ub2c8\ub2e4."),(0,l.kt)("p",null,"\ub85c\uceec \ud2b8\ub79c\uc7ad\uc158\uc740 \ud558\ub098\uc758 DB Connection \uc5d0 \uc885\uc18d\ub418\uae30 \ub54c\ubb38\uc785\ub2c8\ub2e4."),(0,l.kt)("p",null,"\ubcc4\ub3c4\uc758 \ud2b8\ub79c\uc7ad\uc158 \uad00\ub9ac\uc790\ub97c \ud1b5\ud574 \ud2b8\ub79c\uc7ad\uc158\uc744 \uad00\ub9ac\ud558\ub294 \uae00\ub85c\ubc8c \ud2b8\ub79c\uc7ad\uc158 Global Transaction \ubc29\uc2dd\uc744 \uc0ac\uc6a9\ud574\uc57c \ud569\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uc790\ubc14\ub294 \uae00\ub85c\ubc8c \ud2b8\ub79c\uc7ad\uc158\uc744 \uc9c0\uc6d0\ud558\ub294 \ud2b8\ub79c\uc7ad\uc158 \ub9e4\ub2c8\uc800\ub97c \uc9c0\uc6d0\ud558\uae30 \uc704\ud55c API \uc778 JTA Java Transaction API \ub97c \uc81c\uacf5\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uc544\ub798\ub294 JTA \ub97c \uc774\uc6a9\ud55c \ud2b8\ub79c\uc7ad\uc158 \ucc98\ub9ac \ucf54\ub4dc\uc758 \uc804\ud615\uc801\uc778 \uad6c\uc870\ub97c \ubcf4\uc5ec\uc90d\ub2c8\ub2e4."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"InitialContext ctx = new InitialContext();\nUserTransaction tx = (UserTransaction) ctx.lookup(USER_TX_JNDI_NAME);\n\ntx.begin();\n// highlight-next-line\nConnection c = dataSource.getConnection();\n\ntry {\n  tx.commit();\n} catch (Exception e) {\n  tx.rollback();\n  throw.e;\n} finally {\n  c.close();\n}\n")),(0,l.kt)("p",null,"\ubb38\uc81c\ub294 JDBC \ub85c\uceec \ud2b8\ub79c\uc7ad\uc158\uc744 JTA \ub97c \uc774\uc6a9\ud558\ub294 \uae00\ub85c\ubc8c \ud2b8\ub79c\uc7ad\uc158\uc73c\ub85c \ubcc0\uacbd\ud558\ub824\uba74 UserService \uc758 \ucf54\ub4dc\ub97c \uc218\uc815\ud574\uc57c \ud55c\ub2e4\ub294 \ubd80\ubd84\uc785\ub2c8\ub2e4."),(0,l.kt)("p",null,"UserService \uc758 \uc785\uc7a5\uc5d0\uc11c\ub294 \uc790\uc2e0\uc758 \ub85c\uc9c1\ub9d0\uace0 \uae30\uc220\ud658\uacbd\uc774 \ubc14\ub00c\uc5c8\ub294\ub370 \ucf54\ub4dc\uac00 \ubcc0\uacbd\uc774 \ub418\uc5b4 \ubc84\ub9bd\ub2c8\ub2e4."),(0,l.kt)("h4",{id:"\ud2b8\ub79c\uc7ad\uc158-api\uc758-\uc758\uc874\uad00\uacc4-\ubb38\uc81c\uc640-\ud574\uacb0\ucc45"},"\ud2b8\ub79c\uc7ad\uc158 API\uc758 \uc758\uc874\uad00\uacc4 \ubb38\uc81c\uc640 \ud574\uacb0\ucc45"),(0,l.kt)("p",null,"\uc6d0\ub798 UserService \ub294 UserDao \uc778\ud130\ud398\uc774\uc2a4\uc5d0\ub9cc \uc758\uc874\ud558\uace0 \uc788\uc5c8\uae30 \ub54c\ubb38\uc5d0 \uad6c\ud604 \ud074\ub798\uc2a4\uc758 \ubcc0\uacbd\uc5d0 \uc601\ud5a5\uc744 \ubc1b\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4."),(0,l.kt)("p",null,"\ud558\uc9c0\ub9cc UserService \uc5d0\uc11c \ud2b8\ub79c\uc7ad\uc158\uc758 \uacbd\uacc4\uc124\uc815\uc744 \ud574\uc57c \ud560 \ud544\uc694\uac00 \uc0dd\uae30\uba74\uc11c \ub2e4\uc2dc \ud2b9\uc815 \ub370\uc774\ud130 \uc561\uc138\uc2a4 \uae30\uc220\uc5d0 \uc885\uc18d\ub418\ub294 \uad6c\uc870\uac00 \ub418\uc5c8\uc2b5\ub2c8\ub2e4."),(0,l.kt)("p",null,"\ub2e4\ud589\ud788 \ud2b8\ub79c\uc7ad\uc158\uc758 \uacbd\uacc4\uc124\uc815\uc744 \ub2f4\ub2f9\ud558\ub294 \ucf54\ub4dc\ub294 \uc77c\uc815\ud55c \ud328\ud134\uc744 \uac16\ub294 \uad6c\uc870\uc774\uae30 \ub54c\ubb38\uc5d0 \ucd94\uc0c1\ud654\uac00 \uac00\ub2a5\ud569\ub2c8\ub2e4."),(0,l.kt)("admonition",{type:"info"},(0,l.kt)("p",{parentName:"admonition"},"\ucd94\uc0c1\ud654\ub780 \ud558\uc704 \uc2dc\uc2a4\ud15c\uc758 \uacf5\ud1b5\uc810\uc744 \ubf51\uc544\ub0b4\uc11c \ubd84\ub9ac\uc2dc\ud0a4\ub294 \uac83\uc744 \ub9d0\ud569\ub2c8\ub2e4."),(0,l.kt)("p",{parentName:"admonition"},"\ucd94\uc0c1\ud654\ub97c \ud558\uba74 \ud558\uc704 \uc2dc\uc2a4\ud15c\uc774 \uc5b4\ub5a4 \uac83\uc778\uc9c0 \uc54c\uc9c0 \ubabb\ud574\ub3c4 \uc77c\uad00\ub41c \ubc29\ubc95\uc73c\ub85c \uc811\uadfc\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.")),(0,l.kt)("p",null,"\uac01 DB \uc5d0\uc11c \uc81c\uacf5\ud558\ub294 \ud074\ub77c\uc774\uc5b8\ud2b8 \ub77c\uc774\ube0c\ub7ec\ub9ac\uc640 API \ub294 \uc11c\ub85c \uc804\ud600 \ud638\ud658\ub418\uc9c0 \uc54a\uc9c0\ub9cc SQL \uc744 \uc774\uc6a9\ud55c\ub2e4\ub294 \uacf5\ud1b5\uc758 \ubc29\uc2dd\uc774 \uc788\uc2b5\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uc774 \uacf5\ud1b5 \ubc29\uc2dd\uc744 \ucd94\uc0c1\ud654 \ud55c \uac83\uc774 JDBC \uc785\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uc774 \ucd94\uc0c1\ud654 \ubc29\uc2dd\uc744 \uc751\uc6a9\ud558\uba74 \ud2b8\ub79c\uc7ad\uc158 \ucc98\ub9ac \ucf54\ub4dc\uc5d0\ub3c4 \ucd94\uc0c1\ud654\ub97c \ub3c4\uc785\ud558\uc5ec \ud2b8\ub79c\uc7ad\uc158 \uacbd\uacc4\uc124\uc815 \ucf54\ub4dc\ub97c \ub9cc\ub4e4 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,l.kt)("h4",{id:"\uc2a4\ud504\ub9c1\uc758-\ud2b8\ub79c\uc7ad\uc158-\uc11c\ube44\uc2a4-\ucd94\uc0c1\ud654"},"\uc2a4\ud504\ub9c1\uc758 \ud2b8\ub79c\uc7ad\uc158 \uc11c\ube44\uc2a4 \ucd94\uc0c1\ud654"),(0,l.kt)("p",null,"\uc2a4\ud504\ub9c1\uc774 \uc81c\uacf5\ud558\ub294 \ud2b8\ub79c\uc7ad\uc158 \ucd94\uc0c1\ud654 \uacc4\uce35\uad6c\uc870\uc785\ub2c8\ub2e4."),(0,l.kt)(r.Z,{img:t(9046),mdxType:"Image"}),(0,l.kt)("p",null,"\uc2a4\ud504\ub9c1\uc774 \uc81c\uacf5\ud558\ub294 \ud2b8\ub79c\uc7ad\uc158 \ucd94\uc0c1\ud654 \ubc29\ubc95\uc744 UserService \uc5d0 \uc801\uc6a9\ud574\ubd05\ub2c8\ub2e4."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java",metastring:'title="UserService.java"',title:'"UserService.java"'},"public void upgradeLevels() {\n  // highlight-start\n  PlatformTransactionManager transactionManager = new DataSourceTransactionManager(dataSource);\n  TransactionStatus status = this.transactionManager.getTransaction(new DefaultTransactionDefinition());\n  // highlight-end\n  \n  try {\n    List<User> users = userDao.getAll();\n    for (User user : users) {\n      if (canUpgradeLevel(user)) {\n        upgradeLevel(user);\n      }\n    }\n    // highlight-next-line\n    this.transactionManager.commit(status);\n  } catch (RuntimeException e) {\n    // highlight-next-line\n    this.transactionManager.rollback(status);\n    throw e;\n  }\n}\n")),(0,l.kt)("p",null,"JDBC \ub97c \uc774\uc6a9\ud560 \ub54c\ub294 \uba3c\uc800 Connection \uc744 \uc0dd\uc131\ud558\uace0 \ud2b8\ub79c\uc7ad\uc158\uc744 \uc2dc\uc791\ud588\uc2b5\ub2c8\ub2e4."),(0,l.kt)("p",null,"PlatformTransactionManager \uc5d0\uc11c\ub294 getTransaction() \uba54\uc18c\ub4dc\ub97c \ud638\ucd9c\ud558\uba74 \ub429\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uc2dc\uc791\ub41c \ud2b8\ub79c\uc7ad\uc158\uc740 TransactionStatus \ud0c0\uc785\uc758 \ubcc0\uc218\uc5d0 \uc800\uc7a5\ub418\uc5b4 \uc788\ub2e4\uac00 PlatformTransactionManager \uc758 commit(), rollback() \uc2dc\uc5d0 \ud30c\ub77c\ubbf8\ud130\ub85c \uc804\ub2ec\ub429\ub2c8\ub2e4. "),(0,l.kt)("p",null,"\ud14c\uc2a4\ud2b8\ub97c \ud1b5\ud574 \ud2b8\ub79c\uc7ad\uc158\uc774 \uc815\uc0c1\uc801\uc73c\ub85c \ub3d9\uc791\ud568\uc744 \uc54c \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,l.kt)("h4",{id:"\ud2b8\ub79c\uc7ad\uc158-\uae30\uc220-\uc124\uc815\uc758-\ubd84\ub9ac"},"\ud2b8\ub79c\uc7ad\uc158 \uae30\uc220 \uc124\uc815\uc758 \ubd84\ub9ac"),(0,l.kt)("p",null,"UserService \ucf54\ub4dc\ub97c JTA \ub97c \uc774\uc6a9\ud558\ub294 \uae00\ub85c\ubc8c \ud2b8\ub79c\uc7ad\uc158\uc73c\ub85c \ubcc0\uacbd\ud558\ub824\uba74 DataSourceTransactionManager \uad6c\ud604 \ud074\ub798\uc2a4\ub97c JPATransactionManager \ub85c \ubc14\uafd4\uc8fc\uba74 \ub429\ub2c8\ub2e4."),(0,l.kt)("p",null,"\ubaa8\ub450 PlatformTransactionManager \uc778\ud130\ud398\uc774\uc2a4\ub97c \uad6c\ud604\ud558\uc600\uae30 \ub54c\ubb38\uc5d0 \ud2b8\ub79c\uc7ad\uc158 \uacbd\uacc4\uc124\uc815\uc744 \uc704\ud55c getTransaction(), commit(), rollback() \uba54\uc18c\ub4dc\ub97c \uc218\uc815\ud560 \ud544\uc694\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."),(0,l.kt)("p",null,"\ud558\uc9c0\ub9cc \ud2b8\ub79c\uc7ad\uc158 \uad6c\ud604 \ud074\ub798\uc2a4\uc5d0 \ub300\ud574 UserService \uac00 \uc54c\uace0 \uc788\ub294 \uac83\uc740 DI \uc6d0\uce59 \uc704\ubc30\uc785\ub2c8\ub2e4."),(0,l.kt)("p",null,"\ub530\ub77c\uc11c UserService \uac00 \ud2b8\ub79c\uc7ad\uc158 \ub9e4\ub2c8\uc800\ub97c DI \ub97c \ud1b5\ud574 \uc8fc\uc785\ubc1b\uc744 \uc218 \uc788\ub3c4\ub85d \ud569\ub2c8\ub2e4."),(0,l.kt)("admonition",{type:"info"},(0,l.kt)("p",{parentName:"admonition"},"\uc5b4\ub5a4 \ud074\ub798\uc2a4\ub4e0 \uc2a4\ud504\ub9c1\uc758 \ube48\uc73c\ub85c \ub4f1\ub85d\ud560 \ub54c \uba3c\uc800 \uac80\ud1a0\ud574\uc57c \ud560 \uac83\uc740 \uc2f1\uae00\ud1a4\uc73c\ub85c \ub9cc\ub4e4\uc5b4\uc838 \uc5ec\ub7ec \uc2a4\ub808\ub4dc\uc5d0\uc11c \ub3d9\uc2dc\uc5d0 \uc0ac\uc6a9\ud574\ub3c4 \uad1c\ucc2e\uc740\uac00 \ud558\ub294 \uc810\uc785\ub2c8\ub2e4."),(0,l.kt)("p",{parentName:"admonition"},"\uc0c1\ud0dc\ub97c \uac16\uace0 \uc788\ub294 \ub4f1, \uba40\ud2f0\uc2a4\ub808\ub4dc \ud658\uacbd\uc5d0\uc11c \uc548\uc804\ud558\uc9c0 \uc54a\uc740 \ud074\ub798\uc2a4\uac00 \ube48\uc73c\ub85c \ub4f1\ub85d\ub418\uc5b4\uc11c\ub294 \uc548\ub429\ub2c8\ub2e4.")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java",metastring:'title="UserService.java"',title:'"UserService.java"'},"public class UserService {\n\n  // ...\n    \n  private PlatformTransactionManager transactionManager;\n    \n  // highlight-start\n  public void setTransactionManager(PlatformTransactionManager transactionManager) {\n    this.transactionManager = transactionManager;\n  }\n    // highlight-end\n\n  public void upgradeLevels() {\n    // highlight-next-line\n    TransactionStatus status = this.transactionManager.getTransaction(new DefaultTransactionDefinition());\n    try {\n      List<User> users = userDao.getAll();\n      for (User user : users) {\n        if (canUpgradeLevel(user)) {\n          upgradeLevel(user);\n        }\n      }\n      this.transactionManager.commit(status);\n    } catch (RuntimeException e) {\n      this.transactionManager.rollback(status);\n      throw e;\n    }\n  }\n    \n}\n")),(0,l.kt)("p",null,"\ud14c\uc2a4\ud2b8\uc758 upgradeAllOrNothing() \uba54\uc18c\ub4dc\ub294 \uc218\uc815\uc774 \ud544\uc694\ud569\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uc2a4\ud504\ub9c1 \ucee8\ud14c\uc774\ub108\ub85c\ubd80\ud130 transactionManager \ube48\uc744 \uc8fc\uc785\ubc1b\uc544\uc11c \uc804\ub2ec\ud574\uc8fc\ub3c4\ub85d \ubcc0\uacbd\ud569\ub2c8\ub2e4."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},'public class UserServiceTest {\n\n  // ...\n  \n  // highlight-start\n  @Autowired\n  PlatformTransactionManager transactionManager;\n  // highlight-end\n  \n  @Test\n    public void upgradeAllOrNothing() {\n        UserService testUserService = new TestUserService(users.get(3).getId());  \n        testUserService.setUserDao(this.userDao);\n        // highlight-next-line\n        testUserService.setTransactionManager(this.transactionManager);\n         \n        userDao.deleteAll();              \n        for(User user : users) userDao.add(user);\n        \n        try {\n            testUserService.upgradeLevels();   \n            fail("TestUserServiceException expected"); \n        }\n        catch(TestUserServiceException e) { \n        }\n        \n        checkLevelUpgraded(users.get(1), false);\n    }\n')),(0,l.kt)("h2",{id:"53-\uc11c\ube44\uc2a4-\ucd94\uc0c1\ud654\uc640-\ub2e8\uc77c-\ucc45\uc784-\uc6d0\uce59"},"5.3 \uc11c\ube44\uc2a4 \ucd94\uc0c1\ud654\uc640 \ub2e8\uc77c \ucc45\uc784 \uc6d0\uce59"),(0,l.kt)("h3",{id:"\uc218\uc9c1-\uc218\ud3c9-\uacc4\uce35\uad6c\uc870\uc640-\uc758\uc874\uad00\uacc4"},"\uc218\uc9c1, \uc218\ud3c9 \uacc4\uce35\uad6c\uc870\uc640 \uc758\uc874\uad00\uacc4"),(0,l.kt)("p",null,"\ucd94\uc0c1\ud654 \uae30\ubc95\uc744 \uc774\uc6a9\ud558\uba74 \ud2b9\uc815 \uae30\uc220\ud658\uacbd\uc5d0 \uc885\uc18d\ub418\uc9c0 \uc54a\ub294 \ucf54\ub4dc\ub97c \ub9cc\ub4e4 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,l.kt)("p",null,"UserService, UserDao \ub97c \uad00\uc2ec\uc0ac\uc5d0 \ub530\ub77c \uc5b4\ud50c\ub9ac\ucf00\uc774\uc158 \ube44\uc988\ub2c8\uc2a4 \ub85c\uc9c1\uc744 \ubd84\ub9ac\ud55c \uac83\uc744 \uc218\ud3c9\uc801\uc778 \ubd84\ub9ac\ub77c\uace0 \ud569\ub2c8\ub2e4."),(0,l.kt)("p",null,"\ud2b8\ub79c\uc7ad\uc158\uc758 \ucd94\uc0c1\ud654\ub294 \ud2b8\ub79c\uc7ad\uc158 \uae30\uc220\uc744 \ube44\uc988\ub2c8\uc2a4 \ub85c\uc9c1\uc744 \ubd84\ub9ac\ud55c \uac83\uc740 \uc218\uc9c1\uc801\uc778 \ubd84\ub9ac\uc785\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uc560\ud50c\ub9ac\ucf00\uc774\uc158 \ub85c\uc9c1\uc758 \uc885\ub958\uc5d0 \ub530\ub978 \uc218\ud3c9\uc801\uc778 \uad6c\ubd84\uc774\ub4e0, \ub85c\uc9c1\uacfc \uae30\uc220\uc758 \uc218\uc9c1\uc801\uc778 \uad6c\ubd84\uc774\ub4e0 \uc790\uc720\ub86d\uac8c \ud655\uc7a5\ud560 \uc218 \uc788\ub294 \uad6c\uc870\ub97c \ub9cc\ub4dc\ub294\ub370\ub294 \uc2a4\ud504\ub9c1 DI \uac00 \uc911\uc694\ud55c \uc5ed\ud560\uc744 \ud569\ub2c8\ub2e4."),(0,l.kt)("h3",{id:"\ub2e8\uc77c-\ucc45\uc784-\uc6d0\uce59"},"\ub2e8\uc77c \ucc45\uc784 \uc6d0\uce59"),(0,l.kt)("p",null,"\uc801\uc808\ud55c \ubd84\ub9ac\uac00 \uac00\uc838\uc624\ub294 \ud2b9\uc9d5\uc740 \ub2e8\uc77c \ucc45\uc784 \uc6d0\uce59 Single Responsibility Principle \ub85c \uc124\uba85\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,l.kt)("p",null,"\ub2e8\uc77c \ucc45\uc784 \uc6d0\uce59\uc740 \ud558\ub098\uc758 \ubaa8\ub4c8\uc740 \ud55c \uac00\uc9c0 \ucc45\uc784\uc744 \uac00\uc838\uc57c \ud55c\ub2e4\ub294 \ub73b\uc785\ub2c8\ub2e4."),(0,l.kt)("p",null,"UserService \uc5d0\uc11c\ub294 \uc0ac\uc6a9\uc790 \ub808\ubca8\uc744 \uad00\ub9ac\uc640 \ud2b8\ub79c\uc7ad\uc158\uc744 \uad00\ub9ac\ud558\ub294 \ub450\uac00\uc9c0 \ucc45\uc784\uc744 \uac16\uace0 \uc788\uc5c8\uc2b5\ub2c8\ub2e4."),(0,l.kt)("p",null,"\ud2b8\ub79c\uc7ad\uc158 \ucd94\uc0c1\ud654 \ubc29\uc2dd\uc744 \ub3c4\uc785\ud558\uace0 DI \ub97c \ud1b5\ud574 \uc678\ubd80\uc5d0\uc11c \uc81c\uc5b4\ud558\ub3c4\ub85d \ubcc0\uacbd\ud558\ubbc0\ub85c\uc368 UserService \uc758 \ucc45\uc784\uc744 \ud55c\uac00\uc9c0\ub85c \uc904\uc600\uc2b5\ub2c8\ub2e4."),(0,l.kt)("h3",{id:"\ub2e8\uc77c-\ucc45\uc784-\uc6d0\uce59\uc758-\uc7a5\uc810"},"\ub2e8\uc77c \ucc45\uc784 \uc6d0\uce59\uc758 \uc7a5\uc810"),(0,l.kt)("p",null,"\ub2e8\uc77c \ucc45\uc784 \uc6d0\uce59\uc744 \uc798 \uc9c0\ud0a4\uace0 \uc788\ub2e4\uba74, \uc5b4\ub5a4 \ubcc0\uacbd\uc774 \ud544\uc694\ud560 \ub54c \uc218\uc815 \ub300\uc0c1\uc774 \uba85\ud655\ud574 \uc9d1\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uac1d\uccb4\uc9c0\ud5a5 \uc124\uacc4\uc640 \ud504\ub85c\uadf8\ub798\ubc0d\uc758 \uc6d0\uce59\uc740 \uc11c\ub85c \uae34\ubbfc\ud55c \uad00\uacc4\uac00 \uc788\uc2b5\ub2c8\ub2e4."),(0,l.kt)("p",null,"\ub2e8\uc77c \ucc45\uc784 \uc6d0\uce59\uc744 \uc798 \uc9c0\ud0a4\ub294 \ucf54\ub4dc\ub97c \ub9cc\ub4e4\ub824\uace0 \uc778\ud130\ud398\uc774\uc2a4\ub97c \ub3c4\uc785\ud558\uace0 \uc774\ub97c DI \ub85c \uc5f0\uacb0\ud558\uace0, \uac1c\ubc29 \ud3d0\uc1c4 \uc6d0\uce59\ub3c4 \uc798 \ub530\ub974\uac8c \ub9cc\ub4e4\uba74 \uadf8 \uacb0\uacfc\ub85c \ub192\uc740 \uc751\uc9d1\ub3c4\uc758 \ucf54\ub4dc\ub85c \ub9cc\ub4e4\uc5b4\uc9d1\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uc774\ub7f0 \uacfc\uc815\uc5d0\uc11c \ub514\uc790\uc778 \ud328\ud134\ub4e4\uc774 \uc790\uc5f0\uc2a4\ub7fd\uac8c \uc801\uc6a9\ub418\uae30\ub3c4 \ud569\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uac1d\uccb4 \uc9c0\ud5a5 \uc124\uacc4 \uc6d0\uce59\uc744 \uc798 \uc9c0\ucf1c\uc11c \ub9cc\ub4e0 \ucf54\ub4dc\ub294 \ud14c\uc2a4\ud2b8\ud558\uae30\ub3c4 \ud3b8\ub9ac\ud569\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uc2a4\ud504\ub9c1\uc758 \uc758\uc874\uad00\uacc4 \uc8fc\uc785 \uae30\uc220\uc778 DI \ub294 \ubaa8\ub4e0 \uc2a4\ud504\ub9c1 \uae30\uc220\uc758 \uae30\ubc18\uc774 \ub418\ub294 \ud575\uc2ec \uc5d4\uc9c4\uc774\uc790 \uc6d0\ub9ac\uc785\ub2c8\ub2e4."),(0,l.kt)("h2",{id:"54-\uba54\uc77c-\uc11c\ube44\uc2a4-\ucd94\uc0c1\ud654"},"5.4 \uba54\uc77c \uc11c\ube44\uc2a4 \ucd94\uc0c1\ud654"),(0,l.kt)("h3",{id:"541-javamail\uc744-\uc774\uc6a9\ud55c-\uba54\uc77c-\ubc1c\uc1a1-\uae30\ub2a5"},"5.4.1 JavaMail\uc744 \uc774\uc6a9\ud55c \uba54\uc77c \ubc1c\uc1a1 \uae30\ub2a5"),(0,l.kt)("p",null,"\ub808\ubca8\uc774 \uc5c5\uadf8\ub808\uc774\ub4dc \ub418\ub294 \uc0ac\uc6a9\uc790\uc5d0\uac8c \uc548\ub0b4 \uba54\uc77c\uc744 \ubc1c\uc1a1\ud558\ub294 \uae30\ub2a5\uc744 \ub9cc\ub4e4\uc5b4\ubcf4\uaca0\uc2b5\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uba3c\uc800 email \ud544\ub4dc\ub97c \ucd94\uac00\ud558\uace0 \ud14c\uc2a4\ud2b8\ub97c \ud574 \ubd05\ub2c8\ub2e4."),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"User \ud14c\uc774\ube14\uc5d0 email \ud544\ub4dc\ub97c \ucd94\uac00"),(0,l.kt)("li",{parentName:"ol"},"User \ud074\ub798\uc2a4\uc5d0 email \ud504\ub85c\ud37c\ud2f0 \ucd94\uac00"),(0,l.kt)("li",{parentName:"ol"},"\ud14c\uc2a4\ud2b8 \ucf54\ub4dc \uc218\uc815"),(0,l.kt)("li",{parentName:"ol"},"\ud14c\uc2a4\ud2b8 \uc218\ud589")),(0,l.kt)("h4",{id:"javamail-\uba54\uc77c-\ubc1c\uc1a1"},"JavaMail \uba54\uc77c \ubc1c\uc1a1"),(0,l.kt)("p",null,"\uc790\ubc14\uc5d0\uc11c \uba54\uc77c\uc744 \ubc1c\uc1a1\ud560 \ub54c\ub294 \ud45c\uc900 \uae30\uc220\uc778 JavaMail \uc744 \uc0ac\uc6a9\ud569\ub2c8\ub2e4."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java",metastring:'title="UserService.java"',title:'"UserService.java"'},'// ...\n\npublic class UserService {\n    \n  // ...\n    \n  protected void upgradeLevel(User user) {\n    user.upgradeLevel();\n    userDao.update(user);\n    // highlight-next-line\n    sendUpgradeEMail(user);\n  }\n    \n  private void sendUpgradeEMail(User user) {\n    Properties props = new Properties();\n    props.put("mail.smtp.host", "mail.ksug.org");\n    Session s = Session.getlnstance(props, null);\n    \n    MimeMessage message = new MimeMessage(s); \n    \n    try {\n      message.setFrom(new InternetAddress("useradmin@ksug.org"));\n      message.addRecipient(Message.RecipientType.TO, new InternetAddress(user.getEmail())); message.setSubject("Upgrade \uc548\ub0b4");\n      message.setText("\uc0ac\uc6a9\uc790\ub2d8\uc758 \ub4f1\uae09\uc774 " + user.getLevel().name() + \u201c\ub85c \uc5c5\uadf8\ub808\uc774\ub4dc\ub418\uc5c8\uc2b5\ub2c8\ub2e4");\n      \n      Transport.send(message);\n    } catch (AddressException e) {\n      throw new RuntimeException(e); \n    } catch (MessagingException e) {\n      throw new RuntimeException(e);\n    } catch (UnsupportedEncodingException e) {\n      throw new RuntimeException(e);\n    }\n  }\n}\n')),(0,l.kt)("h3",{id:"542-javamail\uc774-\ud3ec\ud568\ub41c-\ucf54\ub4dc\uc758-\ud14c\uc2a4\ud2b8"},"5.4.2 JavaMail\uc774 \ud3ec\ud568\ub41c \ucf54\ub4dc\uc758 \ud14c\uc2a4\ud2b8"),(0,l.kt)("p",null,"sendUpgradeEMail() \uba54\uc18c\ub4dc\uc5d0 \ub300\ud55c \ud14c\uc2a4\ud2b8\ub294 \uba54\uc77c \uc11c\ubc84\uac00 \uc900\ube44\ub418\uc9c0 \uc54a\uc740 \ud658\uacbd\uc5d0\uc11c\ub3c4 \ud14c\uc2a4\ud2b8\ub294 \ub3d9\uc791\ud558\uc5ec\uc57c \ud569\ub2c8\ub2e4."),(0,l.kt)("p",null,"UserService \uc5d0 \ud14c\uc2a4\ud2b8\uc6a9 JavaMail \uc744 \uc5f0\uacb0\ud574\uc11c \uc694\uccad\ud558\ub294 \ubc29\uc2dd\uc73c\ub85c \ubcc0\uacbd\ud574 \ubd05\ub2c8\ub2e4."),(0,l.kt)("h3",{id:"543-\ud14c\uc2a4\ud2b8\ub97c-\uc704\ud55c-\uc11c\ube44\uc2a4-\ucd94\uc0c1\ud654"},"5.4.3 \ud14c\uc2a4\ud2b8\ub97c \uc704\ud55c \uc11c\ube44\uc2a4 \ucd94\uc0c1\ud654"),(0,l.kt)("p",null,"\ud14c\uc2a4\ud2b8\ub97c \uc704\ud574 JavaMail \uacfc \ub3d9\uc77c\ud55c \uc778\ud130\ud398\uc774\uc2a4\ub97c \uac16\ub294 \ud14c\uc2a4\ud2b8\uc6a9 \uc624\ube0c\uc81d\ud2b8\ub97c \ub9cc\ub4e4\uc5b4\uc11c \uc0ac\uc6a9\ud558\uba74 \ub420 \uac83 \uac19\uc2b5\ub2c8\ub2e4."),(0,l.kt)("h4",{id:"javamail\uc744-\uc774\uc6a9\ud55c-\ud14c\uc2a4\ud2b8\uc758-\ubb38\uc81c\uc810"},"JavaMail\uc744 \uc774\uc6a9\ud55c \ud14c\uc2a4\ud2b8\uc758 \ubb38\uc81c\uc810"),(0,l.kt)("p",null,"\uadf8\ub7f0\ub370 JavaMail \uc758 API \ub294 \uc774 \ubc29\ubc95\uc744 \uc801\uc6a9\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."),(0,l.kt)("p",null,"JavaMail \uc758 \ud575\uc2ec API \uc5d0\ub294 \uad6c\ud604\uc744 \ubc14\uafc0 \uc218 \uc788\ub294\uac8c \uc5c6\uc2b5\ub2c8\ub2e4."),(0,l.kt)("p",null,"Session \uacfc Transport \uac00 \uc778\ud130\ud398\uc774\uc2a4\uac00 \uc544\ub2cc \uad6c\ud604\uccb4\uc774\uae30 \ub54c\ubb38\uc5d0 \ud14c\uc2a4\ud2b8\uc6a9 JavaMail \uc744 \ub9cc\ub4e4 \uc218 \uc5c6\uae30 \ub54c\ubb38\uc785\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uc2a4\ud504\ub9c1\uc5d0\uc11c\ub294 JavaMail \uc744 \uc0ac\uc6a9\ud574 \ub9cc\ub4e0 \ucf54\ub4dc\uac00 \ud14c\uc2a4\ud2b8\ud558\uae30 \ud798\ub4e4\ub2e4\ub294 \ubb38\uc81c\ub97c \ud574\uacb0\ud558\uae30 \uc704\ud574 \ucd94\uc0c1\ud654 \uae30\ub2a5\uc744 \uc81c\uacf5\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4."),(0,l.kt)("h4",{id:"\uba54\uc77c-\ubc1c\uc1a1-\uae30\ub2a5-\ucd94\uc0c1\ud654"},"\uba54\uc77c \ubc1c\uc1a1 \uae30\ub2a5 \ucd94\uc0c1\ud654"),(0,l.kt)("p",null,"\uba54\uc77c \ubc1c\uc1a1 \uae30\ub2a5 \ucd94\uc0c1\ud654\ub85c MailSender \ub77c\ub294 \uc778\ud130\ud398\uc774\uc2a4\ub97c \uc81c\uacf5\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uc0ac\uc6a9\uc744 \uc704\ud574\uc11c\ub294 JavaMailSenderImpl \ud074\ub798\uc2a4\ub97c \uc774\uc6a9\ud558\uba74 \ub429\ub2c8\ub2e4."),(0,l.kt)("p",null,"MailSender \uc778\ud130\ud398\uc774\uc2a4\uc5d0\ub294 SimpleMailMessage \ub77c\ub294 \uc778\ud130\ud398\uc774\uc2a4\ub97c \uad6c\ud604\ud55c \ud074\ub798\uc2a4\ub97c \ud30c\ub77c\ubbf8\ud130\ub85c \ubc1b\ub294 \uba54\uc18c\ub4dc\ub85c\ub9cc \uad6c\uc131\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uae30\ubcf8\uc801\uc73c\ub85c\ub294 MailSender \uc778\ud130\ud398\uc774\uc2a4\uc758 \uad6c\ud604 \ud074\ub798\uc2a4\uc778 JavaMailSenderImpl \uc744 \uc774\uc6a9\ud558\uc5ec \uba54\uc77c \ubc1c\uc1a1\uc6a9 \ucf54\ub4dc\ub97c \ub9cc\ub4ed\ub2c8\ub2e4."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java",metastring:'title="UserService.java"',title:'"UserService.java"'},'\n// ...\n\nprivate void sendUpgradeEMail(User user) {\n  // highlight-next-line\n  JavaMailSenderlmpl mailSender = new JavaMailSenderlmpl();\n  mailSender.setHost("mail. server. com");\n\n  SimpleMailMessage mailMessage = new SimpleMailMessage();\n  mailMessage.setTo(user.getEmail());\n  mailMessage.setFrom("useradmin@ksug.org");\n  mailMessage.setSubject("Upgrade \uc548\ub0b4");\n  mailMessage.setText("\uc0ac\uc6a9\uc790\ub2d8\uc758 \ub4f1\uae09\uc774 " + user.getLevel().name());\n  \n  mailSender.send(mailMessage);\n}\n')),(0,l.kt)("p",null,"\uc774\uc81c mailSender \ub97c DI \ud574 \ubd05\ub2c8\ub2e4."),(0,l.kt)("p",null,"sendUpgradeEMail() \uba54\uc18c\ub4dc\uc5d0\ub294 JavaMailSenderImpl \ud074\ub798\uc2a4\uac00 \uad6c\ud604\ud55c MailSender \uc778\ud130\ud398\uc774\uc2a4\ub9cc \ub0a8\uae41\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uad6c\uccb4\uc801\uc778 \uba54\uc77c \uc804\uc1a1 \uad6c\ud604\uc744 \ub2f4\uc740 \ud074\ub798\uc2a4\uc758 \uc815\ubcf4\ub294 \ucf54\ub4dc\uc5d0\uc11c \ubaa8\ub450 \uc81c\uac70\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java",metastring:'title="UserService.java"',title:'"UserService.java"'},'// ...\n\nimport org.springframework.mail.MailSender;\nimport org.springframework.mail.SimpleMailMessage;\n\npublic class UserService {\n\n  // ...\n    \n  // highlight-next-line\n  private MailSender mailSender;\n    \n  // highlight-start\n  public void setMailSender(MailSender mailSender) {\n    this.mailSender = mailSender;\n  }\n  // highlight-end\n\n  // ...\n    \n  private void sendUpgradeEMail(User user) {\n    SimpleMailMessage mailMessage = new SimpleMailMessage();\n    mailMessage.setTo(user.getEmail());\n    mailMessage.setFrom("useradmin@ksug.org");\n    mailMessage.setSubject("Upgrade \uc548\ub0b4");\n    mailMessage.setText("\uc0ac\uc6a9\uc790\ub2d8\uc758 \ub4f1\uae09\uc774 " + user.getLevel().name());\n        \n    // highlight-next-line\n    this.mailSender.send(mailMessage);\n  }\n    \n}\n')),(0,l.kt)("h4",{id:"\ud14c\uc2a4\ud2b8\uc6a9-\uba54\uc77c-\ubc1c\uc1a1-\uc624\ube0c\uc81d\ud2b8"},"\ud14c\uc2a4\ud2b8\uc6a9 \uba54\uc77c \ubc1c\uc1a1 \uc624\ube0c\uc81d\ud2b8"),(0,l.kt)("p",null,"\ud14c\uc2a4\ud2b8\ub97c \uc704\ud574 MailSender \uc778\ud130\ud398\uc774\uc2a4\uc758 \uad6c\ud604 \ud074\ub798\uc2a4\uc778 DummyMailSender \ub97c \uc0dd\uc131\ud569\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uadf8\ub9ac\uace0 \ud14c\uc2a4\ud2b8 \uc124\uc815\ud30c\uc77c\uc5d0\uc11c DummyMailSender \uc744 DI \ud558\ub3c4\ub85d \uc124\uc815\ud569\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uc774\ub807\uac8c \ud558\uba74 UserServiceTest \uc758 upgradeAllOrNothing() \ud14c\uc2a4\ud2b8\uac00 \ud1b5\uacfc\ub429\ub2c8\ub2e4."),(0,l.kt)("h4",{id:"\ud14c\uc2a4\ud2b8\uc640-\uc11c\ube44\uc2a4-\ucd94\uc0c1\ud654"},"\ud14c\uc2a4\ud2b8\uc640 \uc11c\ube44\uc2a4 \ucd94\uc0c1\ud654"),(0,l.kt)("p",null,"\uc774\ucc98\ub7fc \uc11c\ube44\uc2a4 \ucd94\uc0c1\ud654\ub97c \uc774\uc6a9\ud558\uba74 \ud2b8\ub79c\uc7ad\uc158 \uac19\uc740 \uae30\ub2a5\uc5d0 \ub300\ud55c \ucd94\uc0c1 \uc778\ud130\ud398\uc774\uc2a4\ub97c \ub9cc\ub4e4 \uc218\ub3c4 \uc788\uc2b5\ub2c8\ub2e4."),(0,l.kt)("p",null,"JavaMail \ucc98\ub7fc \ud14c\uc2a4\ud2b8\uac00 \uc5b4\ub824\uc6b4 API \ub97c \uc0ac\uc6a9\ud560 \ub54c\ub3c4 \uc720\uc6a9\ud558\uac8c \uc4f8 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,l.kt)("p",null,"JavaMail \uc774 \uc544\ub2cc \ub2e4\ub978 API \ub97c \uc0ac\uc6a9\ud574\ub3c4 \uadf8\uc5d0 \ub9de\ub294 MailSender \uad6c\ud604 \ud074\ub798\uc2a4\ub97c \ub9cc\ub4e4\uc5b4\uc11c DI \ud574\uc8fc\uba74 \ub429\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uc5b4\ub5a4 \uacbd\uc6b0\uc5d0\ub3c4 UserService \uc640 \uac19\uc740 \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \uacc4\uce35\uc758 \ucf54\ub4dc\ub294 \uba54\uc77c \ubc1c\uc1a1\uc744 \uc694\uccad\ud55c\ub2e4\ub294 \uae30\ub2a5\uc5d0 \ub9de\uac8c \uc791\uc131\ub418\uba74 \ub429\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uc8fc\ub85c \uc678\ubd80\uc758 \ub9ac\uc18c\uc2a4\uc640 \uc5f0\ub3d9\ud558\ub294 \ubd80\ubd84\uc758 \uc791\uc5c5\uc774 \uc11c\ube44\uc2a4 \ucd94\uc0c1\ud654\uc758 \ub300\uc0c1\uc774 \ub420 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,l.kt)("h3",{id:"544-\ud14c\uc2a4\ud2b8-\ub300\uc5ed"},"5.4.4 \ud14c\uc2a4\ud2b8 \ub300\uc5ed"),(0,l.kt)("h4",{id:"\uc758\uc874-\uc624\ube0c\uc81d\ud2b8\uc758-\ubcc0\uacbd\uc744-\ud1b5\ud55c-\ud14c\uc2a4\ud2b8-\ubc29\ubc95"},"\uc758\uc874 \uc624\ube0c\uc81d\ud2b8\uc758 \ubcc0\uacbd\uc744 \ud1b5\ud55c \ud14c\uc2a4\ud2b8 \ubc29\ubc95"),(0,l.kt)("p",null,"\ud14c\uc2a4\ud2b8 \ub300\uc0c1\uc774 \ub418\ub294 \uc624\ube0c\uc81d\ud2b8\uac00 \ub610 \ub2e4\ub978 \uc624\ube0c\uc81d\ud2b8\uc5d0 \uc758\uc874\ud558\ub294 \uc77c\uc740 \ub9e4\uc6b0 \ud754\ud569\ub2c8\ub2e4."),(0,l.kt)("p",null,"\ud2b8\ub79c\uc7ad\uc158\uacfc \uba54\uc77c\uc758 \uc0ac\ub840\uc5d0\uc11c\ub3c4 \ud655\uc778\ud558\uc600\uc9c0\ub9cc \uc2a4\ud504\ub9c1 DI \ub97c \ud1b5\ud574 \uc758\uc874\ud558\ub294 \uc624\ube0c\uc81d\ud2b8\ub97c \ud14c\uc2a4\ud2b8\uc6a9\uc73c\ub85c \ubcc0\uacbd\ud558\ub294 \uac83\uc774 \uac00\ub2a5\ud569\ub2c8\ub2e4. "),(0,l.kt)("h4",{id:"\ud14c\uc2a4\ud2b8-\ub300\uc5ed\uc758-\uc885\ub958\uc640-\ud2b9\uc9d5"},"\ud14c\uc2a4\ud2b8 \ub300\uc5ed\uc758 \uc885\ub958\uc640 \ud2b9\uc9d5"),(0,l.kt)("p",null,"\ud14c\uc2a4\ud2b8\uc6a9\uc73c\ub85c \uc0ac\uc6a9\ub418\ub294 \ud2b9\ubcc4\ud55c \uc624\ube0c\uc81d\ud2b8\ub4e4\uc744 \ud14c\uc2a4\ud2b8 \ub300\uc5ed test double \uc774\ub77c\uace0 \ud569\ub2c8\ub2e4."),(0,l.kt)("p",null,"\ub300\ud45c\uc801\uc778 \ud14c\uc2a4\ud2b8 \ub300\uc5ed\uc740 \ud14c\uc2a4\ud2b8 \uc2a4\ud141 test stub \uc785\ub2c8\ub2e4."),(0,l.kt)("p",null,"\ud14c\uc2a4\ud2b8 \uc2a4\ud141\uc774 \uacb0\uacfc\ub97c \ubc18\ud658\ud574\uc57c \ud558\ub294 \uacbd\uc6b0\ub3c4 \uc788\ub294\ub370, \uc774\ub7f0 \uacbd\uc6b0\uc5d0\ub294 \ubaa9 \uc624\ube0c\uc81d\ud2b8 mock object \ub97c \uc0ac\uc6a9\ud569\ub2c8\ub2e4."),(0,l.kt)("h4",{id:"mock-\uc624\ube0c\uc81d\ud2b8\ub97c-\uc774\uc6a9\ud55c-\ud14c\uc2a4\ud2b8"},"Mock \uc624\ube0c\uc81d\ud2b8\ub97c \uc774\uc6a9\ud55c \ud14c\uc2a4\ud2b8"),(0,l.kt)("p",null,"UserServiceTest \uc5d0 \ubaa9 \uc624\ube0c\uc81d\ud2b8\ub97c \uc801\uc6a9\ud574 \ubd05\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uc6b0\uc120 MockMailSender \ud074\ub798\uc2a4\ub97c \ub9cc\ub4ed\ub2c8\ub2e4."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java",metastring:'title="MockMailSender.java"',title:'"MockMailSender.java"'},"static class MockMailSender implements MailSender {\n\n  private List<String> requests = new ArrayList<String>();\n  \n  public List<String> getRequests() { \n    return requests;\n  }\n  \n  public void send(SimpleMailMessage mailMessage) throws MailException {\n    requests.add(mailMessage.getTo()[0]);\n  }\n\n  public void send(SimpleMailMessage[] mailMessage) throws MailException {\n  }\n  \n}\n")),(0,l.kt)("p",null,"MockMailSender \ud074\ub798\uc2a4\ub294 UserService \uac00 send() \uba54\uc18c\ub4dc\ub97c \ud1b5\ud574 \uc790\uc2e0\uc744 \ud638\ucd9c\ud558\uba74 \uad00\ub828 \uc815\ubcf4\ub97c \ubaa9\ub85d\uc5d0 \uc800\uc7a5\ud574\ub461\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uadf8\ub9ac\uace0 \ud14c\uc2a4\ud2b8\uc5d0\uc11c \uc77d\uc5b4\uac08 \uc218 \uc788\ub3c4\ub85d getRequests() \uba54\uc18c\ub4dc\ub97c \ub9cc\ub4e4\uc5b4\uc11c \ubaa9\ub85d\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java",metastring:'title="UserServiceTest.java"',title:'"UserServiceTest.java"'},"public class UserServiceTest {\n\n  @Test\n  // highlight-next-line \n  @DirtiesContext\n  public void upgradeLevels() {\n    userDao.deleteAll();\n    for(User user : users) userDao.add(user);\n        \n    // highlight-start\n    MockMailSender mockMailSender = new MockMailSender();  \n    userService.setMailSender(mockMailSender);\n    // highlight-end  \n        \n    userService.upgradeLevels();\n        \n    checkLevelUpgraded(users.get(0), false);\n    checkLevelUpgraded(users.get(1), true);\n    checkLevelUpgraded(users.get(2), false);\n    checkLevelUpgraded(users.get(3), true);\n    checkLevelUpgraded(users.get(4), false);\n        \n    List<String> request = mockMailSender.getRequests();  \n    assertThat(request.size(), is(2));  \n    assertThat(request.get(0), is(users.get(1).getEmail()));  \n    assertThat(request.get(1), is(users.get(3).getEmail()));  \n  }\n    \n}\n")),(0,l.kt)("p",null,"@DirtiesContext \uc560\ub178\ud14c\uc774\uc158\uc740 \ucee8\ud14d\uc2a4\uc758 DI \uc124\uc815\uc744 \ubcc0\uacbd\ud558\ub294 \ud14c\uc2a4\ud2b8\ub77c\ub294 \uac83\uc744 \uc54c\ub824\uc90d\ub2c8\ub2e4."),(0,l.kt)("p",null,"\ubaa9 \uc624\ube0c\uc81d\ud2b8\ub97c \uc774\uc6a9\ud55c \ud14c\uc2a4\ud2b8\ub294 \uc0c1\ub2f9\ud788 \ub9c9\uac15\ud569\ub2c8\ub2e4."),(0,l.kt)("p",null,"\ubaa9 \uc624\ube0c\uc81d\ud2b8\ub294 \ud14c\uc2a4\ud2b8 \ub300\uc0c1 \uc624\ube0c\uc81d\ud2b8\uc758 \ub0b4\ubd80\uc5d0\uc11c \uc77c\uc5b4\ub098\ub294 \uc77c\uc774\ub098 \ub2e4\ub978 \uc624\ube0c\uc81d\ud2b8 \uc0ac\uc774\uc5d0\uc11c \uc8fc\uace0\ubc1b\ub294 \uc815\ubcf4\uae4c\uc9c0 \uac80\uc99d\ud558\ub294 \uc77c\uc744 \uc190\uc27d\uac8c \ud574\uc90d\ub2c8\ub2e4."),(0,l.kt)("p",null,"\ud14c\uc2a4\ud2b8\uac00 \uc218\ud589\ub420 \uc218 \uc788\ub3c4\ub85d \uc758\uc874 \uc624\ube0c\uc81d\ud2b8\uc5d0 \uac04\uc811\uc801\uc73c\ub85c \uc785\ub825 \uac12\uc744 \uc81c\uacf5\ud574\uc8fc\ub294 ",(0,l.kt)("inlineCode",{parentName:"p"},"\uc2a4\ud141 \uc624\ube0c\uc81d\ud2b8"),"\uc640 \uac04\uc811\uc801\uc778 \ucd9c\ub825 \uac12\uae4c\uc9c0 \ud655\uc778\uc774 \uac00\ub2a5\ud55c ",(0,l.kt)("inlineCode",{parentName:"p"},"\ubaa9 \uc624\ube0c\uc81d\ud2b8"),"\uac00 \uc788\uc2b5\ub2c8\ub2e4."),(0,l.kt)("p",null,"\uc774 \ub450 \uac00\uc9c0\ub294 \ud14c\uc2a4\ud2b8 \ub300\uc5ed\uc758 \uac00\uc7a5 \ub300\ud45c\uc801\uc778 \ubc29\ubc95\uc774\uba70 \ud6a8\uacfc\uc801\uc778 \ud14c\uc2a4\ud2b8 \ucf54\ub4dc\ub97c \uc791\uc131\ud558\ub294 \ub370 \ube60\uc9c8 \uc218 \uc5c6\ub294 \uc911\uc694\ud55c \ub3c4\uad6c\uc785\ub2c8\ub2e4."),(0,l.kt)("h2",{id:"55-\uc815\ub9ac"},"5.5 \uc815\ub9ac"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\ube44\uc988\ub2c8\uc2a4 \ub85c\uc9c1\uc744 \ub2f4\uc740 \ucf54\ub4dc\ub294 \ub370\uc774\ud130 \uc561\uc138\uc2a4 \ub85c\uc9c1\uc744 \ub2f4\uc740 \ucf54\ub4dc\uc640 \uae54\ub054\ud558\uac8c \ubd84\ub9ac\ub418\ub294 \uac83\uc774 \ubc14\ub78c\uc9c1\ud558\ub2e4. \ube44\uc988\ub2c8\uc2a4 \ub85c\uc9c1 \ucf54\ub4dc \ub610\ud55c \ub0b4\ubd80\uc801\uc73c\ub85c \ucc45\uc784\uacfc \uc5ed\ud560\uc5d0 \ub530\ub77c\uc11c \uae54\ub054\ud558\uac8c \uba54\uc18c\ub4dc\ub85c \uc815\ub9ac\ub3fc\uc57c \ud55c\ub2e4."),(0,l.kt)("li",{parentName:"ul"},"\uc774\ub97c \uc704\ud574\uc11c\ub294 DAO \uc758 \uae30\uc220 \ubcc0\ud654\uc5d0 \uc11c\ube44\uc2a4 \uacc4\uce35\uc758 \ucf54\ub4dc\uac00 \uc601\ud5a5\uc744 \ubc1b\uc9c0 \uc54a\ub3c4\ub85d \uc778\ud130\ud398\uc774\uc2a4\uc640 \uc774\ub97c \uc798 \ud65c\uc6a9\ud574\uc11c \uacb0\ud569\ub3c4\ub97c \ub0ae\ucdb0\uc918\uc57c \ud55c\ub2e4."),(0,l.kt)("li",{parentName:"ul"},"DAO \ub97c \uc0ac\uc6a9\ud558\ub294 \ube44\uc988\ub2c8\uc2a4 \ub85c\uc9c1\uc5d0\ub294 \ub2e8\uc704 \uc791\uc5c5\uc744 \ubcf4\uc7a5\ud574\uc8fc\ub294 \ud2b8\ub79c\uc7ad\uc158\uc774 \ud544\uc694\ud558\ub2e4."),(0,l.kt)("li",{parentName:"ul"},"\ud2b8\ub79c\uc7ad\uc158\uc758 \uc2dc\uc791\uacfc \uc885\ub8cc\ub97c \uc9c0\uc815\ud558\ub294 \uc77c\uc744 \ud2b8\ub79c\uc7ad\uc158 \uacbd\uacc4\uc124\uc815\uc774\ub77c\uace0 \ud55c\ub2e4. \ud2b8\ub79c\uc7ad\uc158 \uacbd\uacc4\uc124\uc815\uc740 \uc8fc\ub85c \ube44\uc988\ub2c8\uc2a4 \ub85c\uc9c1 \uc548\uc5d0\uc11c \uc77c\uc5b4\ub098\ub294 \uacbd\uc6b0\uac00 \ub9ce\ub2e4."),(0,l.kt)("li",{parentName:"ul"},"\uc2dc\uc791\ub41c \ud2b8\ub79c\uc7ad\uc158 \uc815\ubcf4\ub97c \ub2f4\uc740 \uc624\ube0c\uc81d\ud2b8\ub97c \ud30c\ub77c\ubbf8\ud130\ub85c DAO \uc5d0 \uc804\ub2ec\ud558\ub294 \ubc29\ubc95\uc740 \ub9e4\uc6b0 \ube44\ud6a8\uc728\uc801\uc774\uae30 \ub54c\ubb38\uc5d0 \uc2a4\ud504\ub9c1\uc774 \uc81c\uacf5\ud558\ub294 \ud2b8\ub79c\uc7ad\uc158 \ub3d9\uae30\ud654 \uae30\ubc95\uc744 \ud65c\uc6a9\ud558\ub294 \uac83\uc774 \ud3b8\ub9ac\ud558\ub2e4."),(0,l.kt)("li",{parentName:"ul"},"\uc790\ubc14\uc5d0\uc11c \uc0ac\uc6a9\ub418\ub294 \ud2b8\ub79c\uc7ad\uc158 API \uc758 \uc885\ub958\uc640 \ubc29\ubc95\uc740 \ub2e4\uc591\ud558\ub2e4. \ud658\uacbd\uacfc \uc11c\ubc84\uc5d0 \ub530\ub77c\uc11c \ud2b8\ub79c\uc7ad\uc158 \ubc29\ubc95\uc774 \ubcc0\uacbd\ub418\uba74 \uacbd\uacc4\uc124\uc815 \ucf54\ub4dc\ub3c4 \ud568\uaed8 \ubcc0\uacbd\ub3fc\uc57c \ud55c\ub2e4."),(0,l.kt)("li",{parentName:"ul"},"\ud2b8\ub79c\uc7ad\uc158 \ubc29\ubc95\uc5d0 \ub530\ub77c \ube44\uc988\ub2c8\uc2a4 \ub85c\uc9c1\uc744 \ub2f4\uc740 \ucf54\ub4dc\uac00 \ud568\uaed8 \ubcc0\uacbd\ub418\uba74 \ub2e8\uc77c \ucc45\uc784 \uc6d0\uce59\uc5d0 \uc704\ubc30\ub418\uba70, DAO \uac00 \uc0ac\uc6a9\ud558\ub294 \ud2b9\uc815 \uae30\uc220\uc5d0 \ub300\ud574 \uac15\ud55c \uacb0\ud569\uc744 \ub9cc\ub4e4\uc5b4\ub0b8\ub2e4."),(0,l.kt)("li",{parentName:"ul"},"\ud2b8\ub79c\uc7ad\uc158 \uacbd\uacc4\uc124\uc815 \ucf54\ub4dc\uac00 \ube44\uc988\ub2c8\uc2a4 \ub85c\uc9c1 \ucf54\ub4dc\uc5d0 \uc601\ud5a5\uc744 \uc8fc\uc9c0 \uc54a\uac8c \ud558\ub824\uba74 \uc2a4\ud504\ub9c1\uc774 \uc81c\uacf5\ud558\ub294 \ud2b8\ub79c\uc7ad\uc158 \uc11c\ube44\uc2a4 \ucd94\uc0c1\ud654\ub97c \uc774\uc6a9\ud558\uba74 \ub41c\ub2e4."),(0,l.kt)("li",{parentName:"ul"},"\uc11c\ube44\uc2a4 \ucd94\uc0c1\ud654\ub294 \ub85c\uc6b0\ub808\ubca8\uc758 \ud2b8\ub79c\uc7ad\uc158 \uae30\uc220\uacfc API \uc758 \ubcc0\ud654\uc5d0 \uc0c1\uad00\uc5c6\uc774 \uc77c\uad00\ub41c API \ub97c \uac00\uc9c4 \ucd94\uc0c1\ud654 \uacc4\uce35\uc744 \ub3c4\uc785\ud55c\ub2e4."),(0,l.kt)("li",{parentName:"ul"},"\uc11c\ube44\uc2a4 \ucd94\uc0c1\ud654\ub294 \ud14c\uc2a4\ud2b8\ud558\uae30 \uc5b4\ub824\uc6b4 JavaMail \uac19\uc740 \uae30\uc220\uc5d0\ub3c4 \uc801\uc6a9\ud560 \uc218 \uc788\ub2e4. \ud14c\uc2a4\ud2b8\ub97c \ud3b8\ub9ac\ud558\uac8c \uc791\uc131\ud558\ub3c4\ub85d \ub3c4\uc640\uc8fc\ub294 \uac83\ub9cc\uc73c\ub85c\ub3c4 \uc11c\ube44\uc2a4 \ucd94\uc0c1\ud654\ub294 \uac00\uce58\uac00 \uc788\ub2e4."),(0,l.kt)("li",{parentName:"ul"},"\ud14c\uc2a4\ud2b8 \ub300\uc0c1\uc774 \uc0ac\uc6a9\ud558\ub294 \uc758\uc874 \uc624\ube0c\uc81d\ud2b8\ub97c \ub300\uccb4\ud560 \uc218 \uc788\ub3c4\ub85d \ub9cc\ub4e0 \uc624\ube0c\uc81d\ud2b8\ub97c \ud14c\uc2a4\ud2b8 \ub300\uc5ed\uc774\ub77c\uace0 \ud55c\ub2e4."),(0,l.kt)("li",{parentName:"ul"},"\ud14c\uc2a4\ud2b8 \ub300\uc5ed\uc740 \ud14c\uc2a4\ud2b8 \ub300\uc0c1 \uc624\ube0c\uc81d\ud2b8\uac00 \uc6d0\ud65c\ud558\uac8c \ub3d9\uc791\ud560 \uc218 \uc788\ub3c4\ub85d \ub3c4\uc6b0\uba74\uc11c \ud14c\uc2a4\ud2b8\ub97c \uc704\ud574 \uac04\uc811\uc801\uc778 \uc815\ubcf4\ub97c \uc81c\uacf5\ud574\uc8fc\uae30\ub3c4 \ud55c\ub2e4."),(0,l.kt)("li",{parentName:"ul"},"\ud14c\uc2a4\ud2b8 \ub300\uc5ed \uc911\uc5d0\uc11c \ud14c\uc2a4\ud2b8 \ub300\uc0c1\uc73c\ub85c\ubd80\ud130 \uc804\ub2ec\ubc1b\uc740 \uc815\ubcf4\ub97c \uac80\uc99d\ud560 \uc218 \uc788\ub3c4\ub85d \uc124\uacc4\ub41c \uac83\uc744 \ubaa9 \uc624\ube0c\uc81d\ud2b8\ub77c\uace0 \ud55c\ub2e4.")))}v.isMDXComponent=!0}}]);